


;------------------------------------------------------------------------------
Object SouthKoreaTankK1A1Old

  ; *** ART Parameters ***
  SelectPortrait         = SKK1A1_L
  ButtonImage            = SKK1A1
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = KVK1A1 ;AVLeopard
      Turret              = Turret01
      TurretPitch         = TurretEL01
      WeaponFireFXBone    = PRIMARY Muzzle ;TurretMS
      WeaponRecoilBone    = PRIMARY Barrel
      ;WeaponMuzzleFlash   = PRIMARY TurretFX
      WeaponLaunchBone    = PRIMARY Muzzle ;TurretMS
      
      WeaponFireFXBone    = SECONDARY MG
      WeaponRecoilBone    = SECONDARY Machinegun
      WeaponLaunchBone    = SECONDARY MG
      
      WeaponFireFXBone    = TERTIARY Grenade
      WeaponLaunchBone    = TERTIARY Grenade
    End
    ConditionState       = REALLYDAMAGED
      Model              = KVK1A1_D ;AVLeopard_D
    End
    ConditionState       = RUBBLE
      Model              = KVK1A1_D ;AVLeopard_D
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = No
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:K1A1
  Side = SouthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
;  WeaponSet
;    Conditions = None 
;    Weapon = PRIMARY BattleMasterTankGun
;  End
  WeaponSet
    Conditions = None
    Weapon = PRIMARY CWCusM256_120mm_CannonNew ;CWCusM256_120mm_Cannon ;CWCru2A46_125mm_Cannon
    Weapon = SECONDARY CWCruPKT_7_62mm_Coaxial_Machinegun
    PreferredAgainst = SECONDARY INFANTRY
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1200
  BuildTime       = 15.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = SouthKoreaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600.0
    InitialHealth   = 600.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 120   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL K1A1Locomotor ;CWCusM1A1Locomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End



























;------------------------------------------------------------------------------
Object SouthKoreaTankT80BV

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DOverlordTankDraw ModuleTag_01

    ExtraPublicBone = CORE

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    
    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 12

    DefaultConditionState
      Model = CWCruT80BV
      Turret = Turret01
      TurretPitch = Turretel
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponFireFXBone = SECONDARY MUZZLE
      WeaponLaunchBone = SECONDARY MUZZLE
      WeaponFireFXBone = TERTIARY MG
      WeaponLaunchBone = TERTIARY MG
    End

    ConditionState = RELOADING_A
      Model = CWCruT80BV
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End

    ConditionState = REALLYDAMAGED
      Model = CWCruT80BV_d
    End

    ConditionState = RELOADING_A REALLYDAMAGED
      Model = CWCruT80BV_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End

    ConditionState = RUBBLE
      Model = CWCruT80BV_k
    End

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.

  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE

    DefaultConditionState
      Model = CWCruT80BV_t
    End

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    ;------------------------------
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    ;------------------------------
    MidLeftRearTireBone = TIRE07
    MidRightRearTireBone = TIRE08

    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:T80BV
  Side = SouthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 5

;  WeaponSet
;    Conditions = None 
;    Weapon = PRIMARY CWCru2A46_125mm_Cannon ;T72TankGun ;BattleMasterTankGun
;  End

  WeaponSet
    Conditions = None
    Weapon = PRIMARY CWCru2A46_125mm_Cannon
    ;Weapon = SECONDARY CWCru9M112M_ATGM_Launcher
    Weapon = TERTIARY CWCruPKT_7_62mm_Coaxial_Machinegun
    PreferredAgainst = TERTIARY INFANTRY
    AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = SouthKoreaCommandCenter ;SouthKoreaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600.0 ;400.0
    InitialHealth   = 600.0 ;400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 80 ; // turn rate, in degrees per sec
      TurretPitchRate = 80
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCruT80BVLocomotor ;BattleMasterLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
;    DeathWeapon   = NuclearTankDeathWeapon
;    StartsActive  = No                        ; turned on by upgrade
;    TriggeredBy   = Upgrade_ChinaNuclearTanks
;  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;BMP3
;------------------------------------------------------------------------------
Object SouthKoreaVehicleBMP3

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes

    ExtraPublicBone = CORE

    InitialRecoilSpeed = 120
    MaxRecoilDistance = 1
    RecoilSettleSpeed = 20

    DefaultConditionState
      Model = LSFBMP3
      Turret = TURRET01
      TurretPitch = BARLF01
      WeaponFireFXBone    = SECONDARY Muzzle01
      WeaponRecoilBone    = SECONDARY Barrel01
      WeaponLaunchBone    = SECONDARY Muzzle01
      WeaponFireFXBone    = PRIMARY Muzzle02
      WeaponLaunchBone    = PRIMARY Muzzle02
      WeaponRecoilBone    = PRIMARY Barrel02
      WeaponFireFXBone    = TERTIARY  MG
      WeaponLaunchBone    = TERTIARY  MG
    End

    ConditionState = REALLYDAMAGED
      Model = LSFBMP3d
      Turret = TURRET01
      TurretPitch = BARLF01
      WeaponFireFXBone    = SECONDARY Muzzle01
      WeaponRecoilBone    = SECONDARY Barrel01
      WeaponLaunchBone    = SECONDARY Muzzle01
      WeaponFireFXBone    = PRIMARY Muzzle02
      WeaponLaunchBone    = PRIMARY Muzzle02
      WeaponRecoilBone    = PRIMARY Barrel02
      WeaponFireFXBone    = TERTIARY  MG
      WeaponLaunchBone    = TERTIARY  MG

    End

    ConditionState = RUBBLE
      Model = LSFBMP3k
    End

    TrackMarks = EXTnkTrack.tga
  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw01

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE

    DefaultConditionState
      Model = LSFBMP3W
    End

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    LeftFrontTireBone     = Tire01
    MidLeftFrontTireBone  = Tire02 
    MidLeftRearTireBone   = Tire03
    LeftRearTireBone      = Tire04
;-------------------------------------- 
    MidRightFrontTireBone = Tire05
    RightFrontTireBone    = Tire06
    MidRightRearTireBone  = Tire07
    RightRearTireBone     = Tire08

    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BMP3
  Side = SouthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 5

;  WeaponSet
;    Conditions = None 
;    Weapon = PRIMARY BattleMasterTankGun
;  End

  WeaponSet
    Conditions = None 
    Weapon     = PRIMARY   CWCru2A42_30mm_Cannon
    Weapon     = SECONDARY SU100_100mmTankGun ;BattleMasterTankGun
    Weapon     = TERTIARY  CWCruPKT_7_62mm_Coaxial_Machinegun
  End
  
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = SouthKoreaCommandCenter ;SouthKoreaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End

  Locomotor = SET_NORMAL CWCruBMP2Locomotor ;BattleMasterLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
;    DeathWeapon   = NuclearTankDeathWeapon
;    StartsActive  = No                        ; turned on by upgrade
;    TriggeredBy   = Upgrade_ChinaNuclearTanks
;  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

  Scale = 0.90 ;0.95

End





;Type214
;214급 잠수함
;------------------------------------------------------------------------------
Object SouthKoreaVehicleType214

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = KVType214 ;NVBtMstr
      ;Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      ;WeaponRecoilBone    = PRIMARY Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle

      ;요걸 추가해줘야 스크류가 계속 안돌아감 -_-zz
      Animation           = KVType214.KVType214
      AnimationMode       = ONCE ;ONCE_BACKWARDS
    End
    ConditionState = REALLYDAMAGED
      Model               = KVType214 ;NVBtMstr_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      ;WeaponRecoilBone    = PRIMARY Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = RUBBLE
      Model               = KVType214 ;NVBtMstr_D
      Turret              = Turret01
    End

    ConditionState = MOVING
      Model               = KVType214
      Animation           = KVType214.KVType214
      AnimationMode       = LOOP
    End

    ;TrackMarks              = EXTnkTrack.tga
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Type214
  Side = SouthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY Type214TorpedoWeapon ;TomahawkMissileWeapon ;BattleMasterTankGun
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1500 ;100 ;800
  BuildTime       = 1.0 ;10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    ;Object = ChinaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  ;SoundMoveStart = BattleMasterTankMoveStart
  ;SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    ;TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    ;VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1250.0 ;400.0
    InitialHealth   = 1250.0 ;400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
;    Turret
;      TurretTurnRate = 120   ; turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BasicBoatLocomotor2 ;BattleMasterLocomotor
;  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
;    DeathWeapon   = NuclearTankDeathWeapon
;    StartsActive  = No                        ; turned on by upgrade
;    TriggeredBy   = Upgrade_ChinaNuclearTanks
;  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

;  Behavior = StealthUpdate ModuleTag_23
;    StealthDelay                = 0           ; msec
;    ;StealthForbiddenConditions  = MOVING ; stays stealthy while attacking
;    FriendlyOpacityMin          = 30.0%
;    FriendlyOpacityMax          = 80.0%
;    PulseFrequency              = 500   ; msec
;    MoveThresholdSpeed          = 3
;    InnateStealth               = Yes
;    OrderIdleEnemiesToAttackMeUponReveal  = Yes
;  End

  Behavior = StealthUpdate ModuleTag_23
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ;EnemyDetectionEvaEvent      = EnemyJarmenKellDetected
    ;OwnDetectionEvaEvent        = OwnJarmenKellDetected
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;장보고3 Batch-1 3000톤급 차기잠수함
;------------------------------------------------------------------------------
Object SouthKoreaVehicleJangbogo3

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = KVJangbogo3 ;NVBtMstr
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY WeaponA
      ;WeaponRecoilBone    = PRIMARY Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY WeaponA

      ;요걸 추가해줘야 스크류가 계속 안돌아감 -_-zz
      Animation           = KVJangbogo3.KVJangbogo3
      AnimationMode       = ONCE ;ONCE_BACKWARDS
    End
    ConditionState = REALLYDAMAGED
      Model               = KVJangbogo3 ;NVBtMstr_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY WeaponA
      ;WeaponRecoilBone    = PRIMARY Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY WeaponA
    End
    ConditionState = RUBBLE
      Model               = KVJangbogo3 ;NVBtMstr_D
      Turret              = Turret01
    End

    ConditionState = MOVING
      Model               = KVJangbogo3
      Animation           = KVJangbogo3.KVJangbogo3
      AnimationMode       = LOOP
    End

    ;TrackMarks              = EXTnkTrack.tga
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Jangbogo3
  Side = SouthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY Hyunmoo3MissileSubmarineWeapon ;Type214TorpedoWeapon ;TomahawkMissileWeapon ;BattleMasterTankGun
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 2000 ;100 ;800
  BuildTime       = 1.0 ;10.0          ;in seconds    
  VisionRange     = 300 ;150
  ShroudClearingRange = 600 ;300
  Prerequisites
    ;Object = ChinaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  ;SoundMoveStart = BattleMasterTankMoveStart
  ;SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    ;TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    ;VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ;ATTACK_NEEDS_LINE_OF_SIGHT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1500.0 ;400.0
    InitialHealth   = 1500.0 ;400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
;    Turret
;      TurretTurnRate = 120   ; turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BasicBoatLocomotor2 ;BattleMasterLocomotor
;  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
;    DeathWeapon   = NuclearTankDeathWeapon
;    StartsActive  = No                        ; turned on by upgrade
;    TriggeredBy   = Upgrade_ChinaNuclearTanks
;  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

;  Behavior = StealthUpdate ModuleTag_23
;    StealthDelay                = 0           ; msec
;    ;StealthForbiddenConditions  = MOVING ; stays stealthy while attacking
;    FriendlyOpacityMin          = 30.0%
;    FriendlyOpacityMax          = 80.0%
;    PulseFrequency              = 500   ; msec
;    MoveThresholdSpeed          = 3
;    InnateStealth               = Yes
;    OrderIdleEnemiesToAttackMeUponReveal  = Yes
;  End

  Behavior = StealthUpdate ModuleTag_23
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ;EnemyDetectionEvaEvent      = EnemyJarmenKellDetected
    ;OwnDetectionEvaEvent        = OwnJarmenKellDetected
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object SouthKoreaVehicleChamsuri

  ; *** ART Parameters ***
  SelectPortrait         = SNOverlord_L
  ButtonImage            = SNOverlord
  
  ;UpgradeCameo1 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo3 = Upgrade_ChinaOverlordBattleBunker
  ;UpgradeCameo4 = Upgrade_ChinaOverlordGattlingCannon
  ;  ;UpgradeCameo5 = Upgrade_ChinaOverlordPropagandaTower
  
  
  Draw = W3DOverlordTankDraw ModuleTag_01
    ConditionState        = NONE
      Model               = KVChamsuri ;NVOvrlrd
      ;레이다 돌아감 -_-zz
      ;Animation           = NVOvrlrd.NVOvrlrd
      ;AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      ;ParticleSysBone   = TreadFX01 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX02 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX04 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX05 BattleShipWaterRipples ;WaveSpray01

      ParticleSysBone   = TreadFX02 BattleShipWaterRipples
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples
    End
    ConditionState        = REALLYDAMAGED
      Model               = KVChamsuri ;NVOvrlrd_d
      ;Animation           = NVOvrlrd_d.NVOvrlrd_d
      ;AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle
    End

    ConditionState        = RUBBLE
      Model               = KVChamsuri ;NVOvrlrd_d
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle
    End

    ;배틀쉽은 별로.. 콜드워 수륙양용 파티클로 바꿔봐야 겠음 -_-a
    ;ConditionState = MOVING
      ;Model               = KVChamsuri
      ;ParticleSysBone   = EXHAUSTFX01 BattleShipWaterRipples ;DozerSmokeHeavy
      ;WaitForStateToFinishIfPossible = TRANS_DIGGING
    ;End

    ConditionState = MOVING
      Model               = KVChamsuri
      ;ParticleSysBone   = EXHAUSTFX01 BattleShipWaterRipples ;DozerSmokeHeavy
      ;WaitForStateToFinishIfPossible = TRANS_DIGGING

      ParticleSysBone = Mist01 AmphibMistSide

      ParticleSysBone = TreadFX01 AmphibWave
      ParticleSysBone = TreadFX02 AmphibWave
      ParticleSysBone = TreadFX03 AmphibWave

      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
    End

    ;TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = No ;es
    ;TreadAnimationRate = 2.0;  amount of tread texture to move per second
    ;TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    ;TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ;씨발칸 포신 회전하는걸을 넣어야 하니까 -_-a 레이다는 따로 분리시켰다.
  ;한 유닛에 애니메이션은 한개만 되니까..
  Draw = W3DModelDraw ModuleTag_Radar
    DefaultConditionState ;ConditionState        = NONE
      Model               = KVChamsuri_R ;NVOvrlrd
      ;레이다 돌아감 -_-zz
      Animation           = KVChamsuri_R.KVChamsuri_R
      AnimationMode       = LOOP
      ;총 80프레임(배틀쉽 참고)
    End
  End

  ;from CWCruBMD1.ini
;  Draw = W3DModelDraw Module_ParticleEffects
;    DefaultConditionState
;      Model = CWCruBRDM2_W
;    End
;    AliasConditionState = REALLYDAMAGED
;    AliasConditionState = RUBBLE

;    ConditionState = OVER_WATER
;      Model = CWCruBRDM2_W
;      ;ParticleSysBone = WATER01 CWCgenAmphibWaveRest
;      ;ParticleSysBone = WATER02 CWCgenAmphibWaveRest
;    End
;    AliasConditionState = OVER_WATER REALLYDAMAGED
;    AliasConditionState = OVER_WATER RUBBLE

;    ConditionState = OVER_WATER MOVING
;      Model = CWCruBRDM2_W
;      ParticleSysBone = WATER03 CWCgenAmphibWave1
;    End
;    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
;    AliasConditionState = OVER_WATER MOVING RUBBLE
;  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Chamsuri
  Side                = SouthKorea
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY Chamsuri40mmGun
    Weapon            = SECONDARY Chamsuri20mmSeaVulcan
;    Weapon            = TERTIARY GattlingBuildingGunAirDummy
  End
;  WeaponSet
;    Conditions        = PLAYER_UPGRADE
;    Weapon            = PRIMARY Chamsuri40mmGun ;OverlordTankGun
;    Weapon            = SECONDARY Chamsuri20mmSeaVulcan ;GattlingBuildingGunAirDummy ;Dummy weapon that allows manual targeting of air units outside range
;                                                              ;gattling cannon upgrade has been made.
;  End
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  BuildCost       = 1000 ;2000
  BuildTime       = 1.0 ;20.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 200
  Prerequisites
    ;Object = ChinaWarFactory
    ;Object = ChinaPropagandaCenter
  End

  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SouthKoreaVehicleChamsuriCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = OverlordTankVoiceSelect
  ;SoundMoveStart = OverlordTankMoveStart
  ;SoundMoveStartDamaged = OverlordTankMoveStart
  VoiceMove = OverlordTankVoiceMove
  VoiceGuard = OverlordTankVoiceMove
  VoiceAttack = OverlordTankVoiceAttack

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = OverlordTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = OverlordTankTurretMoveLoop
    VoiceCrush = OverlordTankVoiceCrush
    VoiceEnter = OverlordTankVoiceMove
    VoiceUnload     = OverlordTankVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE ;ATTACK_NEEDS_LINE_OF_SIGHT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

;  Behavior = TransportAIUpdate ModuleTag_03
;    Turret
;      TurretTurnRate = 60 ;30 ;15   // turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
;    AutoAcquireEnemiesWhenIdle = Yes
;  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
     End
    AltTurret
      ControlledWeaponSlots = SECONDARY
      TurretTurnRate      = 180 
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretAngle  = 180 ;이걸 추가해야 부포탑이 뒤쪽을 보게 된다. -_-zz
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BasicBoatLocomotor2 ;OverlordLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearOverlordLocomotor

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_04
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel) 
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = PhysicsBehavior ModuleTag_14
    Mass = 50.0
  End



  ; Smoke for a bit then explode
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 1500
;    DestructionDelayVariance = 500
;    FX  = INITIAL   FX_OverlordSmoke
;    OCL = FINAL     OCL_ChinaTankOverlordDebris
;    FX  = FINAL     FX_GenericTankDeathExplosion
;  End
  
  ; Catch fire, and explode death
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 2000
;    DestructionDelayVariance = 300
;    FX  = INITIAL  FX_CrusaderCatchFire
;    OCL = FINAL    OCL_ChinaTankOverlordDebris
;    FX  = FINAL    FX_GenericTankDeathExplosion 
;  End

  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_16
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankOverlordDebris
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End
  Behavior = CreateCrateDie ModuleTag_17
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;  Behavior = ObjectCreationUpgrade ModuleTag_Z01
;    UpgradeObject = OCL_Chamsuri20mmSeaVulcan ;OCL_TaniOhGattlingCannon
;    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
;  End

;  Behavior = GrantUpgradeCreate ModuleTag_Z02
;    UpgradeToGrant = Upgrade_ChinaOverlordGattlingCannon
;    ExemptStatus = UNDER_CONSTRUCTION
;  End

  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

;  Behavior = OverlordContain ModuleTag_Z01
;    Slots = 1
;    DamagePercentToUnits = 100%
;    AllowInsideKindOf = PORTABLE_STRUCTURE
;    PayloadTemplateName = Chamsuri20mmSeaVulcan2
;    PassengersAllowedToFire = Yes
;    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
;    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
;  End

  Geometry = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 13.0
  GeometryHeight = 15.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME     
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;참수리 3번째 포탑 -_-a
;------------------------------------------------------------------------------
Object Chamsuri20mmSeaVulcan2

  ; *** ART Parameters ***
  SelectPortrait = CWCeuLeo2A4_MGGun_Portrait
  ButtonImage = CWCeuLeo2A4_MGGun_Command

  ;  ;UpgradeCameo1 = NONE
  ;  ;UpgradeCameo1 = NONE
  ;  ;UpgradeCameo2 = NONE
  ;  ;UpgradeCameo4 = NONE
  ;  ;UpgradeCameo5 = NONE

  Draw = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor = No
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model = KVChamsuri_G ;CWCeuLeo2A4_MG
      Turret              = Turret01
      TurretPitch         = TurretEL01
      WeaponFireFXBone    = PRIMARY TUR1MUZZLE ;Muzzle
      WeaponLaunchBone = PRIMARY TUR1MUZZLE ;Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model = KVChamsuri_G ;CWCeuLeo2A4_MG
      Turret              = Turret01
      TurretPitch         = TurretEL01
      WeaponFireFXBone    = PRIMARY TUR1MUZZLE ;Muzzle
      WeaponLaunchBone = PRIMARY TUR1MUZZLE ;Muzzle
    End

  End

  ; ***DESIGN parameters ***
  Side = SouthKorea
  EditorSorting = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions = None
    Weapon = PRIMARY Chamsuri20mmSeaVulcan ;CWCruPKT_7_62mm_Coaxial_Machinegun ;CWCusM240_7_62m_Coaxial_Machinegun
    PreferredAgainst = PRIMARY INFANTRY
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI    
  End

  ArmorSet
    Conditions = None
    Armor = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange = 300

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;TurretMoveLoop
    VoiceRapidFire = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI PORTABLE_STRUCTURE PRELOAD
    Body = StructureBody ModuleTag_02
    MaxHealth = 100.0
    InitialHealth = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03 
    Turret 
      ControlledWeaponSlots = PRIMARY SECONDARY 
      TurretTurnRate      = 180   // turn rate, in degrees per sec 
      TurretPitchRate     = 180 
      AllowsPitch         = Yes 
      FiresWhileTurning   = Yes 
      NaturalTurretPitch  = 20 ; this keeps it aimed half way between land and sky 
      MinIdleScanInterval   = 250    ; in milliseconds 
      MaxIdleScanInterval   = 250   ; in milliseconds 
      MinIdleScanAngle      = 0       ; in degrees off the natural turret angle 
      MaxIdleScanAngle      = 360     ; in degrees off the natural turret angle 
    End 
    AutoAcquireEnemiesWhenIdle = Yes ;ATTACK_BUILDINGS; defensive weapon 
    MoodAttackCheckRate        = 50 
  End

  Behavior = DestroyDie ModuleTag_04
    ;nothing
  End

  Geometry = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 9.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length

End


;참수리 20mm 씨발칸(Sea Vulcan)
Object Chamsuri20mmSeaVulcan

  ; *** ART Parameters ***
  SelectPortrait         = SNGatTower_L
  ButtonImage            = SNGatTower

  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = No ;Yes
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model               = KVChamsuri_G ;MVTaniOh_G
      Animation           = KVChamsuri_G.KVChamsuri_G ;MVTaniOh_G.MVTaniOh_G
      AnimationMode       = MANUAL
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = PRIMARY TUR1MUZZLE
      WeaponMuzzleFlash   = PRIMARY TUR1MUZZLEFX
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState        = CONTINUOUS_FIRE_SLOW
      Model               = KVChamsuri_G ;MVTaniOh_G
      Animation           = KVChamsuri_G.KVChamsuri_G ;MVTaniOh_G.MVTaniOh_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
    End
    AliasConditionState = CONTINUOUS_FIRE_SLOW REALLYDAMAGED
    
    ConditionState       = CONTINUOUS_FIRE_MEAN
      Model               = KVChamsuri_G ;MVTaniOh_G
      Animation           = KVChamsuri_G.KVChamsuri_G ;MVTaniOh_G.MVTaniOh_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
    End
    AliasConditionState = CONTINUOUS_FIRE_MEAN REALLYDAMAGED

    ConditionState        = CONTINUOUS_FIRE_FAST
      Model               = KVChamsuri_G ;MVTaniOh_G
      Animation           = KVChamsuri_G.KVChamsuri_G ;MVTaniOh_G.MVTaniOh_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
      ParticleSysBone    = TUR1MUZZLE GattlingMuzzleSmoke
    End
    AliasConditionState = CONTINUOUS_FIRE_FAST REALLYDAMAGED

  End

  ; ***DESIGN parameters ***
  Side             = SouthKorea
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   Chamsuri20mmSeaVulcan ;P4TaniOhGattling
  End
  
  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretAngle = 180
    End
    AutoAcquireEnemiesWhenIdle = Yes 
  End

  Behavior             = DestroyDie ModuleTag_04
    ;nothing
  End

  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500
    CanDetectWhileContained   = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45

End


;------------------------------------------------------------------------------
Object SouthKoreaVehiclePKXA

  ; *** ART Parameters ***
  SelectPortrait         = SNOverlord_L
  ButtonImage            = SNOverlord
  
  ;UpgradeCameo1 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo3 = Upgrade_ChinaOverlordBattleBunker
  ;UpgradeCameo4 = Upgrade_ChinaOverlordGattlingCannon
  ;UpgradeCameo5 = Upgrade_ChinaOverlordPropagandaTower
  
  
  Draw = W3DModelDraw ModuleTag_01
    ConditionState        = NONE
      Model               = KVPKXA ;KVChamsuri ;NVOvrlrd
      ;레이다 돌아감 -_-zz
      Animation           = KVPKXA.KVPKXA
      AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      WeaponFireFXBone    = TERTIARY Tur3Muzzle
      WeaponLaunchBone    = TERTIARY Tur3Muzzle

      ;ParticleSysBone   = TreadFX01 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX02 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX04 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX05 BattleShipWaterRipples ;WaveSpray01

      ParticleSysBone   = TreadFX02 BattleShipWaterRipples
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples
    End
    ConditionState        = REALLYDAMAGED
      Model               = KVPKXA ;KVChamsuri ;NVOvrlrd_d
      Animation           = KVPKXA.KVPKXA
      AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle
    End

    ConditionState        = RUBBLE
      Model               = KVPKXA ;KVChamsuri ;NVOvrlrd_d
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle
    End

    ;배틀쉽은 별로.. 콜드워 수륙양용 파티클로 바꿔봐야 겠음 -_-a
    ;ConditionState = MOVING
      ;Model               = KVChamsuri
      ;ParticleSysBone   = EXHAUSTFX01 BattleShipWaterRipples ;DozerSmokeHeavy
      ;WaitForStateToFinishIfPossible = TRANS_DIGGING
    ;End

    ConditionState = MOVING
      Model               = KVPKXA ;KVChamsuri
      ;ParticleSysBone   = EXHAUSTFX01 BattleShipWaterRipples ;DozerSmokeHeavy
      ;WaitForStateToFinishIfPossible = TRANS_DIGGING

      ParticleSysBone = Mist01 AmphibMistSide

      ParticleSysBone = TreadFX01 AmphibWave
      ParticleSysBone = TreadFX02 AmphibWave
      ParticleSysBone = TreadFX03 AmphibWave

      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
    End

    ;TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = No ;Yes
    ;TreadAnimationRate = 2.0;  amount of tread texture to move per second
    ;TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    ;TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ;씨발칸 포신 회전하는걸을 넣어야 하니까 -_-a 레이다는 따로 분리시켰다.
  ;한 유닛에 애니메이션은 한개만 되니까..
;  Draw = W3DModelDraw ModuleTag_Radar
;    DefaultConditionState ;ConditionState        = NONE
;      Model               = KVChamsuri_R ;NVOvrlrd
;      ;레이다 돌아감 -_-zz
;      Animation           = KVChamsuri_R.KVChamsuri_R
;      AnimationMode       = LOOP
;      ;총 80프레임(배틀쉽 참고)
;    End
;  End

  ;from CWCruBMD1.ini
;  Draw = W3DModelDraw Module_ParticleEffects
;    DefaultConditionState
;      Model = CWCruBRDM2_W
;    End
;    AliasConditionState = REALLYDAMAGED
;    AliasConditionState = RUBBLE

;    ConditionState = OVER_WATER
;      Model = CWCruBRDM2_W
;      ;ParticleSysBone = WATER01 CWCgenAmphibWaveRest
;      ;ParticleSysBone = WATER02 CWCgenAmphibWaveRest
;    End
;    AliasConditionState = OVER_WATER REALLYDAMAGED
;    AliasConditionState = OVER_WATER RUBBLE

;    ConditionState = OVER_WATER MOVING
;      Model = CWCruBRDM2_W
;      ParticleSysBone = WATER03 CWCgenAmphibWave1
;    End
;    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
;    AliasConditionState = OVER_WATER MOVING RUBBLE
;  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:PKXA
  Side                = SouthKorea
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY PKXA76mmGun ;Chamsuri40mmGun
    Weapon            = SECONDARY PKXA40mmNobong ;Chamsuri20mmSeaVulcan
    Weapon            = TERTIARY HaesungMissileWeapon

;    Weapon            = TERTIARY GattlingBuildingGunAirDummy
  End
;  WeaponSet
;    Conditions        = PLAYER_UPGRADE
;    Weapon            = PRIMARY Chamsuri40mmGun ;OverlordTankGun
;    Weapon            = SECONDARY Chamsuri20mmSeaVulcan ;GattlingBuildingGunAirDummy ;Dummy weapon that allows manual targeting of air units outside range
;                                                              ;gattling cannon upgrade has been made.
;  End
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  BuildCost       = 1000 ;2000
  BuildTime       = 1.0 ;20.0          ;in seconds    
  VisionRange     = 250 ;150
  ShroudClearingRange = 330 ;200
  Prerequisites
    ;Object = ChinaWarFactory
    ;Object = ChinaPropagandaCenter
  End

  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SouthKoreaVehiclePKXACommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = OverlordTankVoiceSelect
  ;SoundMoveStart = OverlordTankMoveStart
  ;SoundMoveStartDamaged = OverlordTankMoveStart
  VoiceMove = OverlordTankVoiceMove
  VoiceGuard = OverlordTankVoiceMove
  VoiceAttack = OverlordTankVoiceAttack

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = OverlordTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = OverlordTankTurretMoveLoop
    VoiceCrush = OverlordTankVoiceCrush
    VoiceEnter = OverlordTankVoiceMove
    VoiceUnload     = OverlordTankVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE ;ATTACK_NEEDS_LINE_OF_SIGHT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

;  Behavior = TransportAIUpdate ModuleTag_03
;    Turret
;      TurretTurnRate = 60 ;30 ;15   // turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
;    AutoAcquireEnemiesWhenIdle = Yes
;  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
     End
    AltTurret
      ControlledWeaponSlots = SECONDARY
      TurretTurnRate      = 180 
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretAngle  = 180 ;이걸 추가해야 부포탑이 뒤쪽을 보게 된다. -_-zz
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BasicBoatLocomotor2 ;OverlordLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearOverlordLocomotor

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_04
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel) 
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = PhysicsBehavior ModuleTag_14
    Mass = 50.0
  End



  ; Smoke for a bit then explode
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 1500
;    DestructionDelayVariance = 500
;    FX  = INITIAL   FX_OverlordSmoke
;    OCL = FINAL     OCL_ChinaTankOverlordDebris
;    FX  = FINAL     FX_GenericTankDeathExplosion
;  End
  
  ; Catch fire, and explode death
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 2000
;    DestructionDelayVariance = 300
;    FX  = INITIAL  FX_CrusaderCatchFire
;    OCL = FINAL    OCL_ChinaTankOverlordDebris
;    FX  = FINAL    FX_GenericTankDeathExplosion 
;  End

  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_16
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankOverlordDebris
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End
  Behavior = CreateCrateDie ModuleTag_17
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;  Behavior = ObjectCreationUpgrade ModuleTag_Z01
;    UpgradeObject = OCL_Chamsuri20mmSeaVulcan ;OCL_TaniOhGattlingCannon
;    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
;  End

;  Behavior = GrantUpgradeCreate ModuleTag_Z02
;    UpgradeToGrant = Upgrade_ChinaOverlordGattlingCannon
;    ExemptStatus = UNDER_CONSTRUCTION
;  End

  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Geometry = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 13.0
  GeometryHeight = 15.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME     
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;레오파드2 A4
;------------------------------------------------------------------------------
Object SouthKoreaTankLeopard2A4

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DOverlordTankDraw ModuleTag_01

    ExtraPublicBone = CORE
    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes

    InitialRecoilSpeed = 120
    MaxRecoilDistance = 3
    RecoilSettleSpeed = 12

    DefaultConditionState
      Model = CWCeuLeo2A4
      Turret = Turret01
      TurretPitch = Turretel01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponFireFXBone = SECONDARY MUZZLE
      WeaponRecoilBone = SECONDARY BARREL
      WeaponLaunchBone = SECONDARY MUZZLE
    End

    ConditionState = BETWEEN_FIRING_SHOTS_A
      Model = CWCeuLeo2A4
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B

    ConditionState = REALLYDAMAGED
      Model = CWCeuLeo2A4_d
    End

    ConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Model = CWCeuLeo2A4_d
      ParticleSysBone = MUZZLE01 CWCgenArtMuzzleFlashBarrelSmoke
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState = RUBBLE
      Model = CWCeuLeo2A4_k
    End

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 0.75;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3 ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6 ; fraction of locomotor speed below which we allow pivoting.

  End

  ;---------------------------------------
  Draw = W3DTruckDraw ModuleTag_TracksDraw

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE

    DefaultConditionState
      Model = CWCeuLeo2A4_t
    End

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    ;------------------------------
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    ;------------------------------
    MidRightRearTireBone = TIRE07
    MidLeftRearTireBone = TIRE08
    RightRearTireBone = TIRE09
    ;LeftRearTireBone = TIRE10

    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Leopard2A4
  Side = SouthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 5

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CWCusM256_120mm_Cannon ;BattleMasterTankGun
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1500 ;800
  BuildTime       = 15.0 ;10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = SouthKoreaCommandCenter
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 680.0 ;400.0
    InitialHealth   = 680.0 ;400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 80 // turn rate, in degrees per sec
      TurretPitchRate = 80
      MinPhysicalPitch = -10
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCeuLeo2A4Locomotor ;BattleMasterLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
;    DeathWeapon   = NuclearTankDeathWeapon
;    StartsActive  = No                        ; turned on by upgrade
;    TriggeredBy   = Upgrade_ChinaNuclearTanks
;  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = StealthUpdate ModuleTag_Z01
    StealthDelay = 100
    StealthForbiddenConditions = None ;ATTACKING
    InnateStealth = Yes
    RequiredStatus = STATUS_RIDER2
    OrderIdleEnemiesToAttackMeUponReveal = Yes
  End

  Behavior = OverlordContain ModuleTag_Z02
    Slots = 1
    DamagePercentToUnits = 100%
    AllowInsideKindOf = PORTABLE_STRUCTURE
    PayloadTemplateName = CWCeuLeo2A4_MGGun
    PassengersAllowedToFire = Yes
    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
Object CWCeuLeo2A4_MGGun

  ; *** ART Parameters ***
  SelectPortrait = CWCeuLeo2A4_MGGun_Portrait
  ButtonImage = CWCeuLeo2A4_MGGun_Command

  ;UpgradeCameo1 = NONE
  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor = No
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model = CWCeuLeo2A4_MG
      WeaponFireFXBone = PRIMARY MG
      WeaponLaunchBone = PRIMARY MG
    End

    ConditionState = REALLYDAMAGED
      Model = CWCeuLeo2A4_MG
      WeaponFireFXBone = PRIMARY MG
      WeaponLaunchBone = PRIMARY MG
    End

  End

  ; ***DESIGN parameters ***
  Side = USA
  EditorSorting = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions = None
    Weapon = PRIMARY CWCruPKT_7_62mm_Coaxial_Machinegun ;CWCusM240_7_62m_Coaxial_Machinegun
    PreferredAgainst = PRIMARY INFANTRY
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI    
  End

  ArmorSet
    Conditions = None
    Armor = InvulnerableAllArmor ; We can't be hurt on the field.  We share damage from the Overlord with his damage module
  End
  VisionRange = 300

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop = NoSound ;TurretMoveLoop
    VoiceRapidFire = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf = ATTACK_NEEDS_LINE_OF_SIGHT CAN_ATTACK CLICK_THROUGH IGNORED_IN_GUI PORTABLE_STRUCTURE PRELOAD
    Body = StructureBody ModuleTag_02
    MaxHealth = 100.0
    InitialHealth = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = DestroyDie ModuleTag_04
    ;nothing
  End

  Geometry = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 9.0
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45 ; minimum elevation angle above horizon. Used to limit shadow length

End


;현무1 탄도 미사일
;------------------------------------------------------------------------------
Object SouthKoreaVehicleHyunmoo1

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01
  
    OkToChangeModelColor = No
    ProjectileBoneFeedbackEnabledSlots = PRIMARY
    
    DefaultConditionState
      Model               = KVHM ;NVBtMstr
      Turret              = Turret ;그래픽에도 반드시 01이 붙어야 함 -_-;;
      TurretPitch         = TURRETEL
      WeaponLaunchBone    = PRIMARY MISSILE ;WEAPONA
      WeaponHideShowBone  = PRIMARY MISSILE
      WeaponFireFXBone    = PRIMARY ENGINE01
      Flags               = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED
      Model               = KVHM ;NVBtMstr_D
      Turret              = Turret
      WeaponLaunchBone    = PRIMARY MISSILE ;Muzzle
      WeaponHideShowBone  = PRIMARY MISSILE
      WeaponFireFXBone    = PRIMARY ENGINE01
    End
    ConditionState = RUBBLE
      Model               = KVHM ;NVBtMstr_D
      Turret              = Turret
    End

    CabRotationMultiplier = 1.5
    TrailerRotationMultiplier = 0.2
    CabBone = CAB
    TrailerBone = TRAILER
    RotationDamping = 0.7

    RightFrontTireBone = Wheel01
    LeftFrontTireBone = Wheel02

    MidRightFrontTireBone = Wheel03
    MidLeftFrontTireBone = Wheel04

    MidRightMidTireBone = Wheel05
    MidLeftMidTireBone = Wheel06

    MidRightRearTireBone = Wheel07
    MidLeftRearTireBone = Wheel08

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Hyunmoo1
  Side = SouthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 5 ;2

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY K9Cannon155mmTest2 ;K9Cannon155mm ;HyunmooMissileExplosive ;TomahawkMissileWeapon ;BattleMasterTankGun
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1800
  BuildTime       = 1.0 ;10.0          ;in seconds    
  VisionRange     = 300 ;150
  ShroudClearingRange = 1000 ;300
  Prerequisites
    Object = SouthKoreaCommandCenter
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ;ATTACK_NEEDS_LINE_OF_SIGHT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = DeployStyleAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 0 ;80
      TurretPitchRate = 100 ;80
      AllowsPitch = Yes
      FirePitch = 90 ;45
      ;NaturalTurretPitch = 4
      FiresWhileTurning = No
      RecenterTime = 2500
      ControlledWeaponSlots = PRIMARY ;TERTIARY
      InitiallyDisabled = Yes
    End
    AutoAcquireEnemiesWhenIdle = No ;Yes Stealthed ATTACK_BUILDINGS
    PackTime = 2000
    UnpackTime = 2000
    TurretsFunctionOnlyWhenDeployed = Yes
    TurretsMustCenterBeforePacking = Yes
    ResetTurretBeforePacking = Yes
  End

  Locomotor = SET_NORMAL ScudLauncherLocomotor ;BattleMasterLocomotor
;  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
;    DeathWeapon   = NuclearTankDeathWeapon
;    StartsActive  = No                        ; turned on by upgrade
;    TriggeredBy   = Upgrade_ChinaNuclearTanks
;  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;KD-2 구축함
;------------------------------------------------------------------------------
Object SouthKoreaVehicleKD2

  ; *** ART Parameters ***
  SelectPortrait         = SNOverlord_L
  ButtonImage            = SNOverlord
  
  ;UpgradeCameo1 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo3 = Upgrade_ChinaOverlordBattleBunker
  ;UpgradeCameo4 = Upgrade_ChinaOverlordGattlingCannon
  ;UpgradeCameo5 = Upgrade_ChinaOverlordPropagandaTower
  
  
  Draw = W3DOverlordTankDraw ModuleTag_01
    ConditionState        = NONE
      Model               = KVKD2 ;KVChamsuri ;NVOvrlrd
      ;레이다 돌아감 -_-zz
      ;Animation           = NVOvrlrd.NVOvrlrd
      ;AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      WeaponFireFXBone = TERTIARY Tur2Muzzle
      WeaponLaunchBone = TERTIARY Tur3Muzzle

      ;ParticleSysBone   = TreadFX01 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX02 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX04 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX05 BattleShipWaterRipples ;WaveSpray01

      ParticleSysBone   = TreadFX02 BattleShipWaterRipples
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples
    End
    ConditionState        = REALLYDAMAGED
      Model               = KVKD2 ;KVChamsuri ;NVOvrlrd_d
      ;Animation           = NVOvrlrd_d.NVOvrlrd_d
      ;AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      WeaponFireFXBone = TERTIARY Tur2Muzzle
      WeaponLaunchBone = TERTIARY Tur3Muzzle
    End

    ConditionState        = RUBBLE
      Model               = KVKD2 ;KVChamsuri ;NVOvrlrd_d
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      WeaponFireFXBone = TERTIARY Tur2Muzzle
      WeaponLaunchBone = TERTIARY Tur3Muzzle
    End

    ;배틀쉽은 별로.. 콜드워 수륙양용 파티클로 바꿔봐야 겠음 -_-a
    ;ConditionState = MOVING
      ;Model               = KVChamsuri
      ;ParticleSysBone   = EXHAUSTFX01 BattleShipWaterRipples ;DozerSmokeHeavy
      ;WaitForStateToFinishIfPossible = TRANS_DIGGING
    ;End

    ConditionState = MOVING
      Model               = KVKD2 ;KVChamsuri
      ;ParticleSysBone   = EXHAUSTFX01 BattleShipWaterRipples ;DozerSmokeHeavy
      ;WaitForStateToFinishIfPossible = TRANS_DIGGING

      ParticleSysBone = Mist01 AmphibMistSide

      ParticleSysBone = TreadFX01 AmphibWave
      ParticleSysBone = TreadFX02 AmphibWave
      ParticleSysBone = TreadFX03 AmphibWave

      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
    End

    ;TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = No ;es
    ;TreadAnimationRate = 2.0;  amount of tread texture to move per second
    ;TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    ;TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ;씨발칸 포신 회전하는걸을 넣어야 하니까 -_-a 레이다는 따로 분리시켰다.
  ;한 유닛에 애니메이션은 한개만 되니까..
;  Draw = W3DModelDraw ModuleTag_Radar
;    DefaultConditionState ;ConditionState        = NONE
;      Model               = KVChamsuri_R ;NVOvrlrd
;      ;레이다 돌아감 -_-zz
;      Animation           = KVChamsuri_R.KVChamsuri_R
;      AnimationMode       = LOOP
;      ;총 80프레임(배틀쉽 참고)
;    End
;  End

  ;from CWCruBMD1.ini
;  Draw = W3DModelDraw Module_ParticleEffects
;    DefaultConditionState
;      Model = CWCruBRDM2_W
;    End
;    AliasConditionState = REALLYDAMAGED
;    AliasConditionState = RUBBLE

;    ConditionState = OVER_WATER
;      Model = CWCruBRDM2_W
;      ;ParticleSysBone = WATER01 CWCgenAmphibWaveRest
;      ;ParticleSysBone = WATER02 CWCgenAmphibWaveRest
;    End
;    AliasConditionState = OVER_WATER REALLYDAMAGED
;    AliasConditionState = OVER_WATER RUBBLE

;    ConditionState = OVER_WATER MOVING
;      Model = CWCruBRDM2_W
;      ParticleSysBone = WATER03 CWCgenAmphibWave1
;    End
;    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
;    AliasConditionState = OVER_WATER MOVING RUBBLE
;  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:KD2
  Side                = SouthKorea
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY KD2Cannon ;Chamsuri40mmGun
    Weapon            = SECONDARY KD2GoalKeeperCIWSWeapon ;Chamsuri20mmSeaVulcan
    Weapon            = TERTIARY KD2HaesungMissileWeapon ;HaesungMissileWeapon ;SCUDLauncherGunExplosive
;    Weapon            = TERTIARY GattlingBuildingGunAirDummy
  End
;  WeaponSet
;    Conditions        = PLAYER_UPGRADE
;    Weapon            = PRIMARY Chamsuri40mmGun ;OverlordTankGun
;    Weapon            = SECONDARY Chamsuri20mmSeaVulcan ;GattlingBuildingGunAirDummy ;Dummy weapon that allows manual targeting of air units outside range
;                                                              ;gattling cannon upgrade has been made.
;  End
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  BuildCost       = 1000 ;2000
  BuildTime       = 1.0 ;20.0          ;in seconds    
  VisionRange     = 350 ;150
  ShroudClearingRange = 400 ;200
  Prerequisites
    ;Object = ChinaWarFactory
    ;Object = ChinaPropagandaCenter
  End

  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SouthKoreaVehicleChamsuriCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = OverlordTankVoiceSelect
  ;SoundMoveStart = OverlordTankMoveStart
  ;SoundMoveStartDamaged = OverlordTankMoveStart
  VoiceMove = OverlordTankVoiceMove
  VoiceGuard = OverlordTankVoiceMove
  VoiceAttack = OverlordTankVoiceAttack

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = OverlordTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = OverlordTankTurretMoveLoop
    VoiceCrush = OverlordTankVoiceCrush
    VoiceEnter = OverlordTankVoiceMove
    VoiceUnload     = OverlordTankVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE ;ATTACK_NEEDS_LINE_OF_SIGHT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

;  Behavior = TransportAIUpdate ModuleTag_03
;    Turret
;      TurretTurnRate = 60 ;30 ;15   // turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
;    AutoAcquireEnemiesWhenIdle = Yes
;  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
     End
    AltTurret
      ControlledWeaponSlots = SECONDARY
      TurretTurnRate      = 180 
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretAngle  = 180 ;이걸 추가해야 부포탑이 뒤쪽을 보게 된다. -_-zz
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BasicBoatLocomotor2 ;OverlordLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearOverlordLocomotor

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_04
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel) 
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = PhysicsBehavior ModuleTag_14
    Mass = 50.0
  End



  ; Smoke for a bit then explode
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 1500
;    DestructionDelayVariance = 500
;    FX  = INITIAL   FX_OverlordSmoke
;    OCL = FINAL     OCL_ChinaTankOverlordDebris
;    FX  = FINAL     FX_GenericTankDeathExplosion
;  End
  
  ; Catch fire, and explode death
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 2000
;    DestructionDelayVariance = 300
;    FX  = INITIAL  FX_CrusaderCatchFire
;    OCL = FINAL    OCL_ChinaTankOverlordDebris
;    FX  = FINAL    FX_GenericTankDeathExplosion 
;  End

  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_16
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankOverlordDebris
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End
  Behavior = CreateCrateDie ModuleTag_17
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;  Behavior = ObjectCreationUpgrade ModuleTag_Z01
;    UpgradeObject = OCL_Chamsuri20mmSeaVulcan ;OCL_TaniOhGattlingCannon
;    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
;  End

;  Behavior = GrantUpgradeCreate ModuleTag_Z02
;    UpgradeToGrant = Upgrade_ChinaOverlordGattlingCannon
;    ExemptStatus = UNDER_CONSTRUCTION
;  End

  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

;  Behavior = OverlordContain ModuleTag_Z01
;    Slots = 1
;    DamagePercentToUnits = 100%
;    AllowInsideKindOf = PORTABLE_STRUCTURE
;    PayloadTemplateName = Chamsuri20mmSeaVulcan2
;    PassengersAllowedToFire = Yes
;    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
;    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
;  End

  Geometry = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 13.0
  GeometryHeight = 15.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME     
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End








;K311 유탄 트럭
;------------------------------------------------------------------------------
Object SouthKoreaVehicleK311

  ; *** ART Parameters ***
  SelectPortrait         = SKK311_L
  ButtonImage            = SKK311
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01
    ;InitialRecoilSpeed   = 120
    ;MaxRecoilDistance    = 2 ;8
    ;RecoilSettleSpeed    = 6

    DefaultConditionState
      Model               = KVK311 ;AVLeopard
      Turret              = Turret01
      TurretPitch         = TurretEL01
      HideSubObject       = ARMOR ARMORNET
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponLaunchBone    = PRIMARY Muzzle
      ;WeaponFireFXBone    = TERTIARY Grenade
      ;WeaponLaunchBone    = TERTIARY Grenade
    End
    ConditionState       = REALLYDAMAGED
      Model              = KVK311 ;KVK200_D ;AVLeopard_D
    End
    ConditionState       = RUBBLE
      Model              = KVK311 ;KVK200_D ;AVLeopard_D
    End

    ;TrackMarks           = EXTnkTrack.tga
    ;TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    ;TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    ;TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = No ;Yes

    TrackMarks                  = EXTireTrack.tga
    Dust                        = TechnicalDust
    DirtSpray                   = RocketBuggyDirtSpray
    PowerslideSpray             = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire01
    RightFrontTireBone          = Tire02
    LeftRearTireBone            = Tire03
    RightRearTireBone           = Tire04
    TireRotationMultiplier      = 0.2        ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5    ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:K311
  Side = SouthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
;  WeaponSet
;    Conditions = None 
;    Weapon = PRIMARY BattleMasterTankGun
;  End
  WeaponSet
    Conditions = None
    Weapon = PRIMARY CWCruPKT_7_62mm_Coaxial_MachinegunK200 ;K311GrenadeWeapon ;RangerFlashBangGrenadeWeapon ;CWCruPKT_7_62mm_Coaxial_Machinegun2 ;CWCru2A46_125mm_Cannon
    ;Weapon = SECONDARY CWCruPKT_7_62mm_Coaxial_Machinegun
    ;PreferredAgainst = SECONDARY INFANTRY
    ;AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 600
  BuildTime       = 6.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = SouthKoreaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = SouthKoreaK200CommandSet ;ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 360.0
    InitialHealth   = 360.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    ;Turret
    ;  TurretTurnRate = 120   ; turn rate, in degrees per sec
    ;  ControlledWeaponSlots = PRIMARY
    ;End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL TechnicalLocomotor ;CWCusM113Locomotor ;K200Locomotor ;CWCusM1A1Locomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransportContain ModuleTag_22
    Slots                 = 8
    InitialPayload        = SouthKoreaInfantryK2Rifle 8
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 10%
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


