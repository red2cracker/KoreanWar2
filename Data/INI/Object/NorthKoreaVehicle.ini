


;------------------------------------------------------------------------------
Object NorthKoreaTankT72

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ;from AmericaMiscUnit.ini AmericaVehicleBattleShip
    ;InitialRecoilSpeed   = 120
    ;MaxRecoilDistance    = 8
    ;RecoilSettleSpeed    = 6

    DefaultConditionState
      Model               = CWCruT72 ;NVBtMstr
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG
    End
    ConditionState = REALLYDAMAGED
      Model               = CWCruT72 ;NVBtMstr_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG
    End
    ConditionState = RUBBLE
      Model               = CWCruT72 ;NVBtMstr_D
      Turret              = Turret01
    End

    TrackMarks              = EXTnkTrack.tga
  End

  Draw = W3DTruckDraw ModuleTag_TracksDraw

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE

    DefaultConditionState
      Model = CWCruT72_t ;LSFT72WG
    End

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    ;------------------------------
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    ;------------------------------
    MidRightRearTireBone = TIRE07
    MidLeftRearTireBone = TIRE08
    RightRearTireBone = TIRE09
    LeftRearTireBone = TIRE10

    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:T72 ;BattleMaster
  Side = NorthKorea ;China
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY T72TankGun ;BattleMasterTankGun
    Weapon = SECONDARY CWCruPKT_7_62mm_Coaxial_Machinegun
    PreferredAgainst = SECONDARY INFANTRY
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 8.0 ;1.0 ;10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = NorthKoreaWarFactory ;ChinaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 40 ; turn rate, in degrees per sec
      TurretPitchRate = 40
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCruT72Locomotor ;BattleMasterLocomotor
  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

  Behavior = HordeUpdate ModuleTag_04
    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
    UpdateRate = 1000     ; how often to recheck horde status (msec)
    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
    AlliesOnly = Yes      ; do we only count allies towards horde status? 
    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
    Count = 5             ; how many units must be within Radius to grant us horde-ness
    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End




























;------------------------------------------------------------------------------
Object NorthKoreaVehiclePT76

  ; *** ART Parameters ***
  SelectPortrait         = NKPT76_L
  ButtonImage            = NKPT76
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = No ;Yes
    DefaultConditionState
      Model = LSFNK82
      Turret = TURRET01
      TurretPitch = BARLF01
      WeaponFireFXBone = PRIMARY MUZZLE
      WeaponLaunchBone = PRIMARY MUZZLE
      WeaponRecoilBone = PRIMARY BARREL
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG
      WeaponLaunchBone = TERTIARY MISSILE
      WeaponFireFXBone = TERTIARY MISSILE
    End
    ConditionState = REALLYDAMAGED
      Model = LSFNK82d
    End
    ConditionState = RUBBLE
      Model = LSFNK82k
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ;휠이 굴러가지 않는 버그가 -_-a
  Draw = W3DTruckDraw ModuleTag_TracksDraw

    OkToChangeModelColor = No
    ParticlesAttachedToAnimatedBones = Yes
    AttachToBoneInAnotherModule = CORE

    DefaultConditionState
      Model = LSFNK82W ;CWCruT72_t ;LSFT72WG
    End

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    RightFrontTireBone = WHEEL01
    LeftFrontTireBone = WHEEL02
    MidRightFrontTireBone = WHEEL03
    MidLeftFrontTireBone = WHEEL04
    ;------------------------------
    MidRightMidTireBone = WHEEL05
    MidLeftMidTireBone = WHEEL06
    ;------------------------------
    MidRightRearTireBone = WHEEL07
    MidLeftRearTireBone = WHEEL08
    RightRearTireBone = WHEEL09
    LeftRearTireBone = WHEEL10

    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:PT76
  Side = NorthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CWCru2A28_73mm_Cannon ;T72TankGun ;BattleMasterTankGun
    Weapon = SECONDARY CWCruPKT_7_62mm_Coaxial_Machinegun
    PreferredAgainst = SECONDARY INFANTRY
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 8.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = NorthKoreaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = NorthKoreaVehiclePT76CommandSet ;ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 120   ; turn rate, in degrees per sec
      ControlledWeaponSlots = PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CWCruBMP2Locomotor ;BattleMasterLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = TransportContain ModuleTag_22
    Slots                 = 4
    InitialPayload        = NorthKoreaInfantryRedguard 4
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 10
    DamagePercentToUnits  = 10%
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End











;SA20 가고일(Gargoyle)
;S300 PMU1
Object NorthKoreaVehicleSA20

  ; *** ART Parameters ***
  SelectPortrait         = NKSA20_L
  ButtonImage            = NKSA20
  
  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = PRIMARY

    DefaultConditionState
      Model = NVSA20
      Animation = NVSA20.NVSA20
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    AliasConditionState = RIDER1
    AliasConditionState = RIDER1 MOVING

    ConditionState = REALLYDAMAGED
      Model = NVSA20
      Animation = NVSA20.NVSA20
      AnimationMode = ONCE_BACKWARDS
      Flags = MAINTAIN_FRAME_ACROSS_STATES
    End
    AliasConditionState = RIDER1 REALLYDAMAGED
    AliasConditionState = RIDER1 REALLYDAMAGED MOVING
    AliasConditionState = RUBBLE
    AliasConditionState = RIDER1 RUBBLE

    ConditionState = RIDER2
      Model = NVSA20
      Animation = NVSA20.NVSA20
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone = PRIMARY MISSILE_C ;COVER ;MUZZLE
      WeaponFireFXBone = PRIMARY MUZZLEFX ;MUZZLE
    End
    AliasConditionState = RIDER2 MOVING

    ConditionState = RIDER2 REALLYDAMAGED
      Model = NVSA20
      Animation = NVSA20.NVSA20
      AnimationMode = ONCE
      Flags = MAINTAIN_FRAME_ACROSS_STATES PRISTINE_BONE_POS_IN_FINAL_FRAME
      WeaponLaunchBone = PRIMARY MISSILE_C ;COVER ;MUZZLE
      WeaponFireFXBone = PRIMARY MUZZLEFX ;MUZZLE
    End
    AliasConditionState = RIDER2 REALLYDAMAGED MOVING
    AliasConditionState = RIDER2 RUBBLE
    AliasConditionState = RIDER2 RUBBLE MOVING

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide

    CabRotationMultiplier = 1.5
    TrailerRotationMultiplier = 0.2
    CabBone = CAB
    TrailerBone = TRAILER
    RotationDamping = 0.7

    RightFrontTireBone = Wheel01
    LeftFrontTireBone = Wheel02

    MidRightFrontTireBone = Wheel03
    MidLeftFrontTireBone = Wheel04

    MidRightMidTireBone = Wheel05
    MidLeftMidTireBone = Wheel06

    MidRightRearTireBone = Wheel07
    MidLeftRearTireBone = Wheel08

    TireRotationMultiplier = 0.2   ; this * speed = rotation.

  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SA20
  Side = NorthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;Just enough to fit into a Chinook.
  MaxSimultaneousOfType = 2

  WeaponSet
    Conditions = WEAPON_RIDER1
    Weapon = PRIMARY None
  End

  WeaponSet
    Conditions = WEAPON_RIDER2
    Weapon = PRIMARY SA20MissileWeapon ;KMSAM9M96EMissile
    AutoChooseSources = PRIMARY FROM_PLAYER FROM_AI FROM_SCRIPT
    PreferredAgainst = PRIMARY BALLISTIC_MISSILE AIRCRAFT
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 2300
  BuildTime       = 23.0          ;in seconds    
  VisionRange     = 700 ;500 ;175           ;Needs to see farther and match it's weapon range -- else troop crawlers will get slaughtered against tanks!
  ShroudClearingRange = 1000 ;700 ;400
  Prerequisites
    Object = NorthKoreaCommandCenter
    Object = NorthKoreaPropagandaCenter
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = KoreaVehicleKMSAMCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TroopCrawlerVoiceSelect
  VoiceMove = TroopCrawlerVoiceMove
  VoiceGuard = TroopCrawlerVoiceMove
  VoiceAttack = TroopCrawlerVoiceAttack
  SoundMoveStart = TroopCrawlerMoveStart
  SoundMoveStartDamaged = TroopCrawlerMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = TroopCrawlerVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush = TroopCrawlerVoiceCrush
    VoiceUnload   = TroopCrawlerVoiceUnload
    VoiceEnter = TroopCrawlerVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 480
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End


  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate = 150
  End

  Locomotor = SET_NORMAL KMSAMLocomotor
  Locomotor = SET_SLUGGISH CWCruS300DeployedLocomotor ;None ;KMSAMDeployedLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 50.0
  End

  Behavior = SlowDeathBehavior ModuleTag_07
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 1
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_FinalTroopCrawlerDebris
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = DestroyDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_12
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate             = 1000   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 750 ;300 ;John, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = AIRCRAFT
  End
  
    Behavior = RiderChangeContain ModuleTag_23
    Rider1 = RidersDummy_M          RIDER1  WEAPON_RIDER1 STATUS_RIDER1 KoreaVehicleKMSAMUnpackCommandSet  SET_NORMAL
    Rider2 = RidersDummy_A           RIDER2  WEAPON_RIDER2 STATUS_RIDER2 KoreaVehicleKMSAMPackUpCommandSet  SET_SLUGGISH
    ScuttleDelay          = 1500
    ScuttleStatus         = RUBBLE

    Slots                 = 1
    InitialPayload        = RidersDummy_M 1
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 0
    DamagePercentToUnits  = 100%
    BurnedDeathToUnits    = No
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 1
    GoAggressiveOnExit = Yes
    DoorOpenTime = 0
  End
  
  Behavior    = OCLSpecialPower ModuleTag_24
    SpecialPowerTemplate = SpecialAbilityRiderA2M
    OCL                  = OCL_RiderA2M
  End

  Behavior    = OCLSpecialPower ModuleTag_25
    SpecialPowerTemplate = SpecialAbilityRiderM2A
    OCL                  = OCL_RiderM2A
  End

  Geometry = BOX
  GeometryMajorRadius = 22.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 13.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End


;알칼리드 전차
;------------------------------------------------------------------------------
Object NorthKoreaTankAlkhalid

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
    OkToChangeModelColor = No ;Yes
    ;from AmericaMiscUnit.ini AmericaVehicleBattleShip
    ;InitialRecoilSpeed   = 120
    ;MaxRecoilDistance    = 8
    ;RecoilSettleSpeed    = 6

    DefaultConditionState
      Model               = NVAlkhalid ;NVBtMstr
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG

      ;WeaponFireFXBone = TERTIARY LaserPoint ;Muzzle
      ;WeaponLaunchBone = TERTIARY LaserPoint ;Muzzle
    End
    ConditionState = REALLYDAMAGED
      Model               = NVAlkhalid ;NVBtMstr_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY MG
      WeaponLaunchBone = SECONDARY MG

      ;WeaponFireFXBone = TERTIARY LaserPoint ;Muzzle
      ;WeaponLaunchBone = TERTIARY LaserPoint ;Muzzle
    End
    ConditionState = RUBBLE
      Model               = NVAlkhalid ;NVBtMstr_D
      Turret              = Turret01
    End

    TrackMarks              = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  Draw = W3DTruckDraw ModuleTag_TracksDraw

    OkToChangeModelColor = No
    ;ParticlesAttachedToAnimatedBones = Yes
    ;AttachToBoneInAnotherModule = CORE

    DefaultConditionState
      Model = NVAlkhalid_T ;CWCruT72_t ;LSFT72WG
    End

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02
    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04
    ;------------------------------
    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06
    ;------------------------------
    MidRightRearTireBone = TIRE07
    MidLeftRearTireBone = TIRE08
    RightRearTireBone = TIRE09
    LeftRearTireBone = TIRE10

    TireRotationMultiplier = 0.4 ; this * speed = rotation.

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Alkhalid ;BattleMaster
  Side = NorthKorea ;China
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CWCru2A46_125mm_Cannon ;T72TankGun ;BattleMasterTankGun
    Weapon = SECONDARY CWCruPKT_7_62mm_Coaxial_Machinegun
    PreferredAgainst = SECONDARY INFANTRY
    AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI

    ;대전차 로켓은 왠지 어색해서 -_-zz
    ;Weapon = TERTIARY AvengerTargetDesignator
    ;PreferredAgainst = TERTIARY INFANTRY
    ;AutoChooseSources = TERTIARY FROM_PLAYER FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 8.0 ;1.0 ;10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = NorthKoreaCommandCenter ;ChinaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 600 ;400.0
    InitialHealth   = 600 ;400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 160 ; // turn rate, in degrees per sec
      TurretPitchRate = 80
      MinPhysicalPitch = -5
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL AlkhalidLocomotor ;CWCruT72Locomotor ;BattleMasterLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Behavior = StealthDetectorUpdate ModuleTag_Z01
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = StealthUpdate ModuleTag_Z02
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON 
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ;EnemyDetectionEvaEvent      = EnemyColonelBurtonDetected
    ;OwnDetectionEvaEvent        = OwnColonelBurtonDetected
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;SA22 그레이하운드(Greyhound)
;Pantsir-1(판치르-S1)
;------------------------------------------------------------------------------
Object NorthKoreaVehicleSA22

  ; *** ART Parameters ***
  SelectPortrait         = NKSA22_L
  ButtonImage            = NKSA22
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01
    DefaultConditionState
      Model               = NVSA22 ;KVChunma
      Animation           = NVSA22.NVSA22 ;KVChunma.KVChunma
      AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      
      ;기관포
      WeaponFireFXBone    = PRIMARY WeaponC
      WeaponLaunchBone    = PRIMARY WeaponC
      ;WeaponRecoilBone    = PRIMARY BarrelB ;동작안됨 -_-a

      ;기관포
      WeaponFireFXBone    = SECONDARY WeaponC
      WeaponLaunchBone    = SECONDARY WeaponC
      ;WeaponRecoilBone    = SECONDARY BarrelB ;마찬가지

      ;대공 미사일
      WeaponFireFXBone    = TERTIARY WeaponA
      WeaponLaunchBone    = TERTIARY WeaponA

    End
    ConditionState       = REALLYDAMAGED
      Model              = NVSA22 ;KVChunma_D ;AVLeopard_D
    End
    ConditionState       = RUBBLE
      Model              = NVSA22 ;KVChunma_D ;AVLeopard_D
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    ; PowerslideSpray = RocketBuggyDirtPowerSlide doesn't powerslide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone     = Wheel01
    RightFrontTireBone    = Wheel08
    LeftRearTireBone      = Wheel03
    RightRearTireBone     = Wheel05
    MidLeftFrontTireBone  = Wheel02
    MidRightFrontTireBone = Wheel07
    MidLeftRearTireBone   = Wheel04
    MidRightRearTireBone  = Wheel06

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.

    ;TrackMarks           = EXTnkTrack.tga
    ;TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    ;TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    ;TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    ;OkToChangeModelColor = No ;Yes
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SA22
  Side = SouthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 5

  WeaponSet
    Conditions = None
    Weapon = PRIMARY QuadCannon2Gun ;CWCru2A7_23mm_Cannon_Ground
    ;PreferredAgainst = PRIMARY INFANTRY
    Weapon = SECONDARY QuadCannon2GunAir ;CWCru2A7_23mm_Cannon
    ;ShareWeaponReloadTime = Yes
    Weapon = TERTIARY CWCruSAM_Launcher
  End

  ;WeaponSet
  ;  Conditions = None
  ;  Weapon = PRIMARY CWCusM256_120mm_Cannon ;CWCru2A46_125mm_Cannon
  ;  Weapon = SECONDARY CWCruPKT_7_62mm_Coaxial_Machinegun
  ;  PreferredAgainst = SECONDARY INFANTRY
  ;  AutoChooseSources = SECONDARY FROM_PLAYER FROM_SCRIPT FROM_AI
  ;End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1500
  BuildTime       = 15.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = NorthKoreaCommandCenter ;NorthKoreaWarFactory
    Object = NorthKoreaPropagandaCenter
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 400.0
    InitialHealth   = 400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 160 ; // turn rate, in degrees per sec
      TurretPitchRate      = 80
      AllowsPitch          = Yes
      ControlledWeaponSlots= PRIMARY SECONDARY TERTIARY
      MinIdleScanAngle = 0 ; in degrees off the natural turret angle
      MaxIdleScanAngle = 45 ; in degrees off the natural turret angle
      MinIdleScanInterval = 10000 ; in milliseconds
      MaxIdleScanInterval = 20000 ; in milliseconds
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL ChunmaLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate             = 1000   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange            = 300 ;750 ;300 ;John, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = AIRCRAFT
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End








;------------------------------------------------------------------------------
;북한 트랙터
Object NorthKoreaVehicleTractor

  ; *** ART Parameters ***
  SelectPortrait         = NKTractor_L
  ButtonImage            = NKTractor
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTruckDraw ModuleTag_01
  
    OkToChangeModelColor = No
    ;ProjectileBoneFeedbackEnabledSlots = PRIMARY
    
    ;보병을 제자리에 태울려면 이런 더미들이 필요하다.
    ExtraPublicBone = STATION01
    ExtraPublicBone = STATION02

    DefaultConditionState
      Model               = NKTractor ;NVBtMstr
      Turret              = Turret01 ;그래픽에도 반드시 01이 붙어야 함 -_-;;
      TurretPitch         = TURRETEL01
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = PRIMARY Muzzle
      ;Flags               = START_FRAME_FIRST
    End
    ConditionState = REALLYDAMAGED
      Model               = NKTractor ;NVBtMstr_D
      Turret              = Turret01
      WeaponLaunchBone    = PRIMARY Muzzle
      WeaponFireFXBone    = PRIMARY Muzzle
    End
    ConditionState = RUBBLE
      Model               = NKTractor ;NVBtMstr_D
      Turret              = Turret01
    End

    CabRotationMultiplier = 1.5
    TrailerRotationMultiplier = 0.2
    CabBone = CAB
    TrailerBone = TRAILER
    RotationDamping = 0.7

    RightFrontTireBone = TIRE01
    LeftFrontTireBone = TIRE02

    MidRightFrontTireBone = TIRE03
    MidLeftFrontTireBone = TIRE04

    MidRightMidTireBone = TIRE05
    MidLeftMidTireBone = TIRE06

    MidRightRearTireBone = TIRE07
    MidLeftRearTireBone = TIRE08

    TireRotationMultiplier = 0.2   ; this * speed = rotation.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Tractor
  Side = NorthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY TractorRocketWeapon ;BattleMasterTankGun
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 400 ;800
  BuildTime       = 4.0 ;10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = NorthKoreaBarracks
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = TractorCommandSet ;ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE ;ATTACK_NEEDS_LINE_OF_SIGHT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0 ;400.0
    InitialHealth   = 300.0 ;400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 120   ; turn rate, in degrees per sec
      TurretPitchRate = 40
      FirePitch = 45 ;30
      AllowsPitch = Yes

      RecenterTime = 2500
      ControlledWeaponSlots = PRIMARY
      FiresWhileTurning = No

      NaturalTurretPitch = 45 ;30 ;from SA-13 Gopher
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL CINE_NukeTruckLocomotor ;BattleMasterLocomotor ;트레일러 유닛은 전용 로코모터를 사용해야 한다. -_-zz
  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
;    DeathWeapon   = NuclearTankDeathWeapon
;    StartsActive  = No                        ; turned on by upgrade
;    TriggeredBy   = Upgrade_ChinaNuclearTanks
;  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;프로젝트4 긴코츠 코드 참고.
  Behavior = GarrisonContain ModuleTag_Z01
    ContainMax                    = 2 ;4
    EnterSound                    = GarrisonEnter
    ExitSound                     = GarrisonExit
    ImmuneToClearBuildingAttacks  = Yes
    DamagePercentToUnits          = 50%

    IsEnclosingContainer          = No

    ;InitialRoster    = NorthKoreaInfantryTankHunter 2 ;테크니컬 에러

  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;Sang-O Submarine
;상어급 잠수함
;------------------------------------------------------------------------------
Object NorthKoreaVehicleSangOSubmarine

  ; *** ART Parameters ***
  SelectPortrait         = NKSangOSubmarine_L
  ButtonImage            = NKSangOSubmarine
  
  ;UpgradeCameo1 = Upgrade_Nationalism
  ;UpgradeCameo2 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model               = NKSangOSub ;KVType214 ;NVBtMstr
      ;Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      ;WeaponRecoilBone    = PRIMARY Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle

      ;요걸 추가해줘야 스크류가 계속 안돌아감 -_-zz
      Animation           = NKSangOSub.NKSangOSub
      AnimationMode       = ONCE ;ONCE_BACKWARDS
    End
    ConditionState = REALLYDAMAGED
      Model               = NKSangOSub ;NVBtMstr_D
      Turret              = Turret01
      WeaponFireFXBone    = PRIMARY Muzzle
      ;WeaponRecoilBone    = PRIMARY Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone    = PRIMARY Muzzle
    End
    ConditionState = RUBBLE
      Model               = NKSangOSub ;NVBtMstr_D
      Turret              = Turret01
    End

    ConditionState = MOVING
      Model               = NKSangOSub
      Animation           = NKSangOSub.NKSangOSub
      AnimationMode       = LOOP
    End

    ;TrackMarks              = EXTnkTrack.tga
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:SangOSubmarine
  Side = NorthKorea
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY SangOTorpedoWeapon ;Type214TorpedoWeapon ;TomahawkMissileWeapon ;BattleMasterTankGun
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 1200 ;100 ;800
  BuildTime       = 12.0 ;10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = NorthKoreaNavalYard
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  ;SoundMoveStart = BattleMasterTankMoveStart
  ;SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    ;TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    ;VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1250.0 ;400.0
    InitialHealth   = 1250.0 ;400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
;    Turret
;      TurretTurnRate = 120   ; turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BasicBoatLocomotor2 ;BattleMasterLocomotor
;  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
;    DeathWeapon   = NuclearTankDeathWeapon
;    StartsActive  = No                        ; turned on by upgrade
;    TriggeredBy   = Upgrade_ChinaNuclearTanks
;  End
;  Behavior = LocomotorSetUpgrade ModuleTag_07
;    TriggeredBy = Upgrade_ChinaNuclearTanks
;  End

;  Behavior = VeterancyGainCreate ModuleVet_01
;    StartingLevel = ELITE
;    ScienceRequired = SCIENCE_BattlemasterTraining
;  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

;  Behavior = StealthUpdate ModuleTag_23
;    StealthDelay                = 0           ; msec
;    ;StealthForbiddenConditions  = MOVING ; stays stealthy while attacking
;    FriendlyOpacityMin          = 30.0%
;    FriendlyOpacityMax          = 80.0%
;    PulseFrequency              = 500   ; msec
;    MoveThresholdSpeed          = 3
;    InnateStealth               = Yes
;    OrderIdleEnemiesToAttackMeUponReveal  = Yes
;  End

  Behavior = StealthUpdate ModuleTag_23
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    ;EnemyDetectionEvaEvent      = EnemyJarmenKellDetected
    ;OwnDetectionEvaEvent        = OwnJarmenKellDetected
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
;북한 서플라이 트럭
Object NorthKoreaVehicleSupplyTruck

  ; *** ART Parameters ***
  
  SelectPortrait         = SNSupplyTruck_L
  ButtonImage            = SNSupplyTruck
  
  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    
    DefaultConditionState
      Model           = NVSSUPPLYTK
      HideSubObject   = Cargo01
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = NVSSUPPLYTK_D
    End
    
    ConditionState    = RUBBLE
      Model           = NVSSUPPLYTK_D
    End
    
    ConditionState    = CARRYING
      ShowSubObject   = Cargo01
    End
    
    ConditionState    = REALLYDAMAGED CARRYING
      Model           = NVSSUPPLYTK_D
      ShowSubObject   = Cargo01
    End
    
    ConditionState    = RUBBLE CARRYING
      Model           = NVSSUPPLYTK_D
      ShowSubObject   = Cargo01
    End
    
    TrackMarks              = EXTireTrack.tga

    LeftFrontTireBone           = Tire01
    RightFrontTireBone          = Tire02
    MidLeftRearTireBone         = Tire03
    MidRightRearTireBone        = Tire04
    LeftRearTireBone            = Tire05
    RightRearTireBone           = Tire06
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5   ; This speed is added to the rotation speed when powersliding.

    Dust                    = RocketBuggyDust
    DirtSpray               = RocketBuggyDirtSpray
    PowerslideSpray         = RocketBuggyDirtPowerSlide

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:SupplyTruck
  Side                = NorthKorea ;China
  EditorSorting       = VEHICLE
  TransportSlotCount  = 2                 ;how many "slots" we take in a transport (0 == not transportable)
  BuildCost           = 600
  BuildTime           = 10.0      ;in seconds
  VisionRange         = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = NorthKoreaSupplyCenter
  End

  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  CrusherLevel            = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel          = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = ChinaSupplyTruckCommandSet
  ; *** AUDIO Parameters ***
  VoiceSelect             = SupplyTruckVoiceSelect
  VoiceMove               = SupplyTruckVoiceMove
  VoiceAttack             = NoSound
  SoundMoveStart          = SupplyTruckMoveStart
  SoundMoveStartDamaged = SupplyTruckMoveStart
  UnitSpecificSounds
    VoiceCreate           = SupplyTruckVoiceCreate
    TruckLandingSound     = NoSound
    TruckPowerslideSound  = NoSound
    VoiceSupply           = SupplyTruckVoiceSupply
    VoiceCrush            = SupplyTruckVoiceCrush
    VoiceEnter            = SupplyTruckVoiceMove

  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  ;@todo lorenzen removed the CAN_ATTACK from the chinasupplytruck... ok?
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE HARVESTER SCORE
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 300.0
    InitialHealth   = 300.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = SupplyTruckAIUpdate ModuleTag_03
    MaxBoxes = 4
    SupplyCenterActionDelay = 400     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1000 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = SupplyTruckVoiceSuppliesDepleted
  End
  Locomotor = SET_NORMAL SupplyTruckLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  ExperienceValue    = 50 50 50 50 ;Experience point value at each level

  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 200
    DestructionDelayVariance = 100
    FX  = FINAL    FX_SupplyTruckExplosionOneFinal
    OCL = FINAL    OCL_ChinaSupplyTruckDeathEffect
  End
    
  Behavior = FXListDie ModuleTag_06
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  
  Behavior = CreateObjectDie ModuleTag_07
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_ChinaSupplyTruck_CrushEffect
  End

  Behavior                       = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_NukeCannonDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_10
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior        = CreateCrateDie ModuleTag_12
    CrateData     = SalvageCrateData
  End

  Geometry = BOX
  GeometryMajorRadius = 17.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 14.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length    

End

;소주급 유도탄정(Missile Boat)
;------------------------------------------------------------------------------
Object NorthKoreaVehicleMissileBoat

  ; *** ART Parameters ***
  SelectPortrait         = SNOverlord_L
  ButtonImage            = SNOverlord
  
  ;UpgradeCameo1 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo3 = Upgrade_ChinaOverlordBattleBunker
  ;UpgradeCameo4 = Upgrade_ChinaOverlordGattlingCannon
  ;UpgradeCameo5 = Upgrade_ChinaOverlordPropagandaTower
  
  
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = NVMislBoat ;KVKD2 ;KVChamsuri ;NVOvrlrd
      ;레이다 돌아감 -_-zz
      ;Animation           = NVOvrlrd.NVOvrlrd
      ;AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      WeaponFireFXBone = TERTIARY Tur2Muzzle
      WeaponLaunchBone = TERTIARY Tur3Muzzle

      ;ParticleSysBone   = TreadFX01 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX02 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX04 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX05 BattleShipWaterRipples ;WaveSpray01

      ParticleSysBone   = TreadFX02 BattleShipWaterRipples
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples
    End
    ConditionState        = REALLYDAMAGED
      Model               = NVMislBoat ;KVKD2 ;KVChamsuri ;NVOvrlrd_d
      ;Animation           = NVOvrlrd_d.NVOvrlrd_d
      ;AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      WeaponFireFXBone = TERTIARY Tur2Muzzle
      WeaponLaunchBone = TERTIARY Tur3Muzzle
    End

    ConditionState        = RUBBLE
      Model               = NVMislBoat ;KVKD2 ;KVChamsuri ;NVOvrlrd_d
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      WeaponFireFXBone = TERTIARY Tur2Muzzle
      WeaponLaunchBone = TERTIARY Tur3Muzzle
    End

    ;배틀쉽은 별로.. 콜드워 수륙양용 파티클로 바꿔봐야 겠음 -_-a
    ;ConditionState = MOVING
      ;Model               = KVChamsuri
      ;ParticleSysBone   = EXHAUSTFX01 BattleShipWaterRipples ;DozerSmokeHeavy
      ;WaitForStateToFinishIfPossible = TRANS_DIGGING
    ;End

    ConditionState = MOVING
      Model               = NVMislBoat ;KVChamsuri
      ;ParticleSysBone   = EXHAUSTFX01 BattleShipWaterRipples ;DozerSmokeHeavy
      ;WaitForStateToFinishIfPossible = TRANS_DIGGING

      ParticleSysBone = Mist01 AmphibMistSide

      ParticleSysBone = TreadFX01 AmphibWave
      ParticleSysBone = TreadFX02 AmphibWave
      ParticleSysBone = TreadFX03 AmphibWave

      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
    End

    ;TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = No ;es
    ;TreadAnimationRate = 2.0;  amount of tread texture to move per second
    ;TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    ;TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ;씨발칸 포신 회전하는걸을 넣어야 하니까 -_-a 레이다는 따로 분리시켰다.
  ;한 유닛에 애니메이션은 한개만 되니까..
;  Draw = W3DModelDraw ModuleTag_Radar
;    DefaultConditionState ;ConditionState        = NONE
;      Model               = KVChamsuri_R ;NVOvrlrd
;      ;레이다 돌아감 -_-zz
;      Animation           = KVChamsuri_R.KVChamsuri_R
;      AnimationMode       = LOOP
;      ;총 80프레임(배틀쉽 참고)
;    End
;  End

  ;from CWCruBMD1.ini
;  Draw = W3DModelDraw Module_ParticleEffects
;    DefaultConditionState
;      Model = CWCruBRDM2_W
;    End
;    AliasConditionState = REALLYDAMAGED
;    AliasConditionState = RUBBLE

;    ConditionState = OVER_WATER
;      Model = CWCruBRDM2_W
;      ;ParticleSysBone = WATER01 CWCgenAmphibWaveRest
;      ;ParticleSysBone = WATER02 CWCgenAmphibWaveRest
;    End
;    AliasConditionState = OVER_WATER REALLYDAMAGED
;    AliasConditionState = OVER_WATER RUBBLE

;    ConditionState = OVER_WATER MOVING
;      Model = CWCruBRDM2_W
;      ParticleSysBone = WATER03 CWCgenAmphibWave1
;    End
;    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
;    AliasConditionState = OVER_WATER MOVING RUBBLE
;  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:MissileBoat
  Side                = NorthKorea
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY MIssileBoatAK230Weapon ;KD2Cannon ;Chamsuri40mmGun
    Weapon            = SECONDARY MIssileBoatAK230Weapon ;KD2GoalKeeperCIWSWeapon ;Chamsuri20mmSeaVulcan
    Weapon            = TERTIARY StyxMissileWeapon ;HaesungMissileWeapon ;SCUDLauncherGunExplosive

;    Weapon            = TERTIARY GattlingBuildingGunAirDummy
  End
;  WeaponSet
;    Conditions        = PLAYER_UPGRADE
;    Weapon            = PRIMARY Chamsuri40mmGun ;OverlordTankGun
;    Weapon            = SECONDARY Chamsuri20mmSeaVulcan ;GattlingBuildingGunAirDummy ;Dummy weapon that allows manual targeting of air units outside range
;                                                              ;gattling cannon upgrade has been made.
;  End
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  BuildCost       = 1500 ;2000
  BuildTime       = 15.0 ;20.0          ;in seconds    
  VisionRange     = 350 ;150
  ShroudClearingRange = 400 ;200
  Prerequisites
    Object = NorthKoreaNavalYard
    Object = NorthKoreaPropagandaCenter
  End

  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SouthKoreaVehicleChamsuriCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = OverlordTankVoiceSelect
  ;SoundMoveStart = OverlordTankMoveStart
  ;SoundMoveStartDamaged = OverlordTankMoveStart
  VoiceMove = OverlordTankVoiceMove
  VoiceGuard = OverlordTankVoiceMove
  VoiceAttack = OverlordTankVoiceAttack

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = OverlordTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = OverlordTankTurretMoveLoop
    VoiceCrush = OverlordTankVoiceCrush
    VoiceEnter = OverlordTankVoiceMove
    VoiceUnload     = OverlordTankVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE ;ATTACK_NEEDS_LINE_OF_SIGHT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

;  Behavior = TransportAIUpdate ModuleTag_03
;    Turret
;      TurretTurnRate = 60 ;30 ;15   // turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
;    AutoAcquireEnemiesWhenIdle = Yes
;  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
     End
    AltTurret
      ControlledWeaponSlots = SECONDARY
      TurretTurnRate      = 180 
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretAngle  = 180 ;이걸 추가해야 부포탑이 뒤쪽을 보게 된다. -_-zz
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BasicBoatLocomotor2 ;OverlordLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearOverlordLocomotor

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_04
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel) 
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = PhysicsBehavior ModuleTag_14
    Mass = 50.0
  End



  ; Smoke for a bit then explode
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 1500
;    DestructionDelayVariance = 500
;    FX  = INITIAL   FX_OverlordSmoke
;    OCL = FINAL     OCL_ChinaTankOverlordDebris
;    FX  = FINAL     FX_GenericTankDeathExplosion
;  End
  
  ; Catch fire, and explode death
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 2000
;    DestructionDelayVariance = 300
;    FX  = INITIAL  FX_CrusaderCatchFire
;    OCL = FINAL    OCL_ChinaTankOverlordDebris
;    FX  = FINAL    FX_GenericTankDeathExplosion 
;  End

  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_16
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankOverlordDebris
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End
  Behavior = CreateCrateDie ModuleTag_17
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;  Behavior = ObjectCreationUpgrade ModuleTag_Z01
;    UpgradeObject = OCL_Chamsuri20mmSeaVulcan ;OCL_TaniOhGattlingCannon
;    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
;  End

;  Behavior = GrantUpgradeCreate ModuleTag_Z02
;    UpgradeToGrant = Upgrade_ChinaOverlordGattlingCannon
;    ExemptStatus = UNDER_CONSTRUCTION
;  End

  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

;  Behavior = OverlordContain ModuleTag_Z01
;    Slots = 1
;    DamagePercentToUnits = 100%
;    AllowInsideKindOf = PORTABLE_STRUCTURE
;    PayloadTemplateName = Chamsuri20mmSeaVulcan2
;    PassengersAllowedToFire = Yes
;    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
;    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
;  End

  Geometry = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 13.0
  GeometryHeight = 15.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME     
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;청진급 경비정(Tank Boat, Chung Jin Class Patrol Boat)
;------------------------------------------------------------------------------
Object NorthKoreaVehicleTankBoat

  ; *** ART Parameters ***
  SelectPortrait         = SNOverlord_L
  ButtonImage            = SNOverlord
  
  ;UpgradeCameo1 = Upgrade_ChinaUraniumShells
  ;UpgradeCameo2 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo3 = Upgrade_ChinaOverlordBattleBunker
  ;UpgradeCameo4 = Upgrade_ChinaOverlordGattlingCannon
  ;UpgradeCameo5 = Upgrade_ChinaOverlordPropagandaTower
  
  ;2014년 1월 28일 화요일. 오버로드 드로우를 모델드로우로 변경.
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model               = NKTankBoat ;NVMislBoat ;KVKD2 ;KVChamsuri ;NVOvrlrd
      ;레이다 돌아감 -_-zz
      ;Animation           = NVOvrlrd.NVOvrlrd
      ;AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      ;WeaponFireFXBone = TERTIARY Tur2Muzzle
      ;WeaponLaunchBone = TERTIARY Tur3Muzzle

      ;ParticleSysBone   = TreadFX01 BattleShipWaterRipples
      ParticleSysBone   = TreadFX02 BattleShipWaterRipples
      ParticleSysBone   = TreadFX03 BattleShipWaterRipples
      ParticleSysBone   = TreadFX04 BattleShipWaterRipples
      ;ParticleSysBone   = TreadFX05 BattleShipWaterRipples ;WaveSpray01
    End
    ConditionState        = REALLYDAMAGED
      Model               = NKTankBoat ;NVMislBoat ;KVKD2 ;KVChamsuri ;NVOvrlrd_d
      ;Animation           = NVOvrlrd_d.NVOvrlrd_d
      ;AnimationMode       = LOOP
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      ;WeaponFireFXBone = TERTIARY Tur2Muzzle
      ;WeaponLaunchBone = TERTIARY Tur3Muzzle
    End

    ConditionState        = RUBBLE
      Model               = NKTankBoat ;NVMislBoat ;KVKD2 ;KVChamsuri ;NVOvrlrd_d
      Turret              = Turret01
      TurretPitch         = TurretEL01
      AltTurret           = Turret02
      AltTurretPitch      = TurretEL02

      WeaponFireFXBone    = PRIMARY Tur1Muzzle ;Muzzle
      WeaponRecoilBone    = PRIMARY Tur1Barrel ;Barrel
      ;WeaponMuzzleFlash   = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY Tur1Muzzle ;Muzzle

      WeaponFireFXBone    = SECONDARY Tur2Muzzle ;Muzzle
      ;WeaponRecoilBone    = SECONDARY Tur2Barrel ;Barrel
      ;WeaponMuzzleFlash   = SECONDARY MuzzleFX
      WeaponLaunchBone = SECONDARY Tur2Muzzle ;Muzzle

      ;WeaponFireFXBone = TERTIARY Tur2Muzzle
      ;WeaponLaunchBone = TERTIARY Tur3Muzzle
    End

    ;배틀쉽은 별로.. 콜드워 수륙양용 파티클로 바꿔봐야 겠음 -_-a
    ConditionState = MOVING
      Model               = NKTankBoat ;KVChamsuri
      ;ParticleSysBone   = EXHAUSTFX01 BattleShipWaterRipples ;DozerSmokeHeavy
      ;WaitForStateToFinishIfPossible = TRANS_DIGGING

      ParticleSysBone = Mist01 AmphibMistSide

      ParticleSysBone = TreadFX01 AmphibWave
      ParticleSysBone = TreadFX02 AmphibWave
      ParticleSysBone = TreadFX03 AmphibWave

      ParticleSysBone = Smoke01 SteamVent
      ParticleSysBone = Smoke02 SteamVent
    End

    ;TrackMarks           = EXTnkTrack.tga
    OkToChangeModelColor = No ;es
    ;TreadAnimationRate = 2.0;  amount of tread texture to move per second
    ;TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    ;TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
  End

  ;씨발칸 포신 회전하는걸을 넣어야 하니까 -_-a 레이다는 따로 분리시켰다.
  ;한 유닛에 애니메이션은 한개만 되니까..
;  Draw = W3DModelDraw ModuleTag_Radar
;    DefaultConditionState ;ConditionState        = NONE
;      Model               = KVChamsuri_R ;NVOvrlrd
;      ;레이다 돌아감 -_-zz
;      Animation           = KVChamsuri_R.KVChamsuri_R
;      AnimationMode       = LOOP
;      ;총 80프레임(배틀쉽 참고)
;    End
;  End

  ;from CWCruBMD1.ini
;  Draw = W3DModelDraw Module_ParticleEffects
;    DefaultConditionState
;      Model = CWCruBRDM2_W
;    End
;    AliasConditionState = REALLYDAMAGED
;    AliasConditionState = RUBBLE

;    ConditionState = OVER_WATER
;      Model = CWCruBRDM2_W
;      ;ParticleSysBone = WATER01 CWCgenAmphibWaveRest
;      ;ParticleSysBone = WATER02 CWCgenAmphibWaveRest
;    End
;    AliasConditionState = OVER_WATER REALLYDAMAGED
;    AliasConditionState = OVER_WATER RUBBLE

;    ConditionState = OVER_WATER MOVING
;      Model = CWCruBRDM2_W
;      ParticleSysBone = WATER03 CWCgenAmphibWave1
;    End
;    AliasConditionState = OVER_WATER MOVING REALLYDAMAGED
;    AliasConditionState = OVER_WATER MOVING RUBBLE
;  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:TankBoat
  Side                = NorthKorea
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions        = None 
    Weapon            = PRIMARY TankBoat85mmCannonWeapon ;MIssileBoatAK230Weapon ;KD2Cannon ;Chamsuri40mmGun
    Weapon            = SECONDARY TankBoat14mmGunWeapon ;MIssileBoatAK230Weapon ;KD2GoalKeeperCIWSWeapon ;Chamsuri20mmSeaVulcan
    ;Weapon            = TERTIARY StyxMissileWeapon ;HaesungMissileWeapon ;SCUDLauncherGunExplosive

;    Weapon            = TERTIARY GattlingBuildingGunAirDummy
  End
;  WeaponSet
;    Conditions        = PLAYER_UPGRADE
;    Weapon            = PRIMARY Chamsuri40mmGun ;OverlordTankGun
;    Weapon            = SECONDARY Chamsuri20mmSeaVulcan ;GattlingBuildingGunAirDummy ;Dummy weapon that allows manual targeting of air units outside range
;                                                              ;gattling cannon upgrade has been made.
;  End
  ArmorSet
    Conditions        = None
    Armor             = TankArmor
    DamageFX          = TankDamageFX
  End
  BuildCost       = 1250 ;2000
  BuildTime       = 12.5 ;20.0          ;in seconds    
  VisionRange     = 350 ;150
  ShroudClearingRange = 400 ;200
  Prerequisites
    Object = NorthKoreaNavalYard
    ;Object = NorthKoreaPropagandaCenter
  End

  ExperienceValue = 200 200 400 600   ;Experience point value at each level
  ExperienceRequired = 0 400 600 1200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 3  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 3  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = SouthKoreaVehicleChamsuriCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = OverlordTankVoiceSelect
  ;SoundMoveStart = OverlordTankMoveStart
  ;SoundMoveStartDamaged = OverlordTankMoveStart
  VoiceMove = OverlordTankVoiceMove
  VoiceGuard = OverlordTankVoiceMove
  VoiceAttack = OverlordTankVoiceAttack

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = OverlordTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = OverlordTankTurretMoveLoop
    VoiceCrush = OverlordTankVoiceCrush
    VoiceEnter = OverlordTankVoiceMove
    VoiceUnload     = OverlordTankVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SCORE HUGE_VEHICLE ;ATTACK_NEEDS_LINE_OF_SIGHT
  
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 2200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

;  Behavior = TransportAIUpdate ModuleTag_03
;    Turret
;      TurretTurnRate = 60 ;30 ;15   // turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
;    AutoAcquireEnemiesWhenIdle = Yes
;  End

  Behavior = AIUpdateInterface ModuleTag_03 ;트랜스포트 AI에서 변경. -_-a
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180
      ;TurretPitchRate     = 180
      AllowsPitch         = No ;Yes
      FiresWhileTurning   = Yes
     End
    AltTurret
      ControlledWeaponSlots = SECONDARY
      TurretTurnRate      = 180 
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretAngle  = 180 ;이걸 추가해야 부포탑이 뒤쪽을 보게 된다. -_-zz
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BasicBoatLocomotor2 ;OverlordLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearOverlordLocomotor

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_04
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_05
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = OverlordContain ModuleTag_06 ; Like Transport, but when full, passes transport queries along to first passenger (redirects like tunnel) 
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
  End

  Behavior = PhysicsBehavior ModuleTag_14
    Mass = 50.0
  End



  ; Smoke for a bit then explode
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 1500
;    DestructionDelayVariance = 500
;    FX  = INITIAL   FX_OverlordSmoke
;    OCL = FINAL     OCL_ChinaTankOverlordDebris
;    FX  = FINAL     FX_GenericTankDeathExplosion
;  End
  
  ; Catch fire, and explode death
;  Behavior = SlowDeathBehavior
;;    ProbabilityModifier = 25
;    DestructionDelay = 2000
;    DestructionDelayVariance = 300
;    FX  = INITIAL  FX_CrusaderCatchFire
;    OCL = FINAL    OCL_ChinaTankOverlordDebris
;    FX  = FINAL    FX_GenericTankDeathExplosion 
;  End

  ; Just explode death
  Behavior = SlowDeathBehavior ModuleTag_16
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankOverlordDebris
    FX  = FINAL    FX_OverlordExplosionOneFinal
  End
  Behavior = CreateCrateDie ModuleTag_17
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = TransitionDamageFX ModuleTag_18
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_OverlordDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;  Behavior = ObjectCreationUpgrade ModuleTag_Z01
;    UpgradeObject = OCL_Chamsuri20mmSeaVulcan ;OCL_TaniOhGattlingCannon
;    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
;  End

;  Behavior = GrantUpgradeCreate ModuleTag_Z02
;    UpgradeToGrant = Upgrade_ChinaOverlordGattlingCannon
;    ExemptStatus = UNDER_CONSTRUCTION
;  End

  Behavior = StealthDetectorUpdate ModuleTag_22
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 250 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

;  Behavior = OverlordContain ModuleTag_Z01
;    Slots = 1
;    DamagePercentToUnits = 100%
;    AllowInsideKindOf = PORTABLE_STRUCTURE
;    PayloadTemplateName = Chamsuri20mmSeaVulcan2
;    PassengersAllowedToFire = Yes
;    PassengersInTurret = Yes ; My passengers ride in my turret, that's where the Firepoint bones are
;    ExperienceSinkForRider = Yes ; I get the Exp for things my turret friend kills
;  End

  Geometry = BOX
  GeometryMajorRadius = 26.0
  GeometryMinorRadius = 13.0
  GeometryHeight = 15.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME     
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End












