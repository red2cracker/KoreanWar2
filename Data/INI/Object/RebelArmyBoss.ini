;아이언 노카나
;------------------------------------------------------------------------------
Object RebelArmyVehicleIronNokana

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  UpgradeCameo1 = Upgrade_Nationalism
  UpgradeCameo2 = Upgrade_ChinaUraniumShells
  UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ProjectileBoneFeedbackEnabledSlots = SECONDARY TERTIARY

    DefaultConditionState
      Model = MVNokana
      Turret = Turret01
      AltTurret = Turret02
      AltTurretPitch = TurretEL02
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY WeaponAFX
      WeaponLaunchBone = PRIMARY WeaponA
      
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponMuzzleFlash = SECONDARY WeaponBFX
      WeaponLaunchBone = SECONDARY WeaponB
      
      WeaponFireFXBone = TERTIARY WeaponC
      WeaponMuzzleFlash = TERTIARY WeaponCFX
      WeaponLaunchBone = TERTIARY WeaponC
      
      TransitionKey = TRANS_Standing
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    AliasConditionState = RIDER1
    AliasConditionState = RIDER1 REALLYDAMAGED

    ConditionState RIDER2
      Model = MVNokana_P ;Packed or Deployed ;MVNokana_F ;MVNokana_C ;UVMarauder
      Turret = Turret01
      AltTurret = Turret02
      AltTurretPitch = TurretEL02 ;WeaponC ;TurretELC
      WeaponFireFXBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY WeaponAFX
      WeaponLaunchBone = PRIMARY WeaponA
      
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponMuzzleFlash = SECONDARY WeaponBFX
      WeaponLaunchBone = SECONDARY WeaponB
      
      WeaponFireFXBone = TERTIARY WeaponC
      WeaponMuzzleFlash = TERTIARY WeaponCFX
      WeaponLaunchBone = TERTIARY WeaponC
      
      TransitionKey = TRANS_Air
    End
    AliasConditionState = RIDER2 REALLYDAMAGED
    AliasConditionState = RIDER2 RUBBLE
    
    TransitionState = TRANS_Standing TRANS_Air
      Model = MVNokana_P ;MVNokana_C
      Animation     = MVNokana_P.MVNokana_P ;Packing or Deploying;MVNokana_C.MVNokana_C
      AnimationMode = ONCE
    End
    
    TransitionState = TRANS_Air TRANS_Standing
      Model = MVNokana_P ;MVNokana_C
      Animation     = MVNokana_P.MVNokana_P ;Packing or Deploying ;MVNokana_C.MVNokana_C
      AnimationMode = ONCE_BACKWARDS
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray

    LeftFrontTireBone     = Wheel01
    RightFrontTireBone    = Wheel08
    LeftRearTireBone      = Wheel03
    RightRearTireBone     = Wheel05
    MidLeftFrontTireBone  = Wheel02
    MidRightFrontTireBone = Wheel07
    MidLeftRearTireBone   = Wheel04
    MidRightRearTireBone  = Wheel06

    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 0   ; This vehicle doesn't powerslide.

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:IronNokana
  Side = RebelArmy ;China
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 1

  WeaponSet
    Conditions = None 
    Weapon = PRIMARY IronNokanaGun
    Weapon = SECONDARY IronNokanaMissileWeapon
  End
  WeaponSet
    Conditions = WEAPON_RIDER1
    Weapon = PRIMARY IronNokanaGun
    Weapon = SECONDARY IronNokanaMissileWeapon
  End
  WeaponSet
    Conditions = WEAPON_RIDER2
    Weapon = PRIMARY IronNokanaGunDeploy
    Weapon = SECONDARY IronNokanaMissileDeployWeapon
    ;Weapon = TERTIARY IronNokanaFlameThrower
  End

  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 8.0 ;1.0 ;10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = RebelArmyHeavyWarFactory ;ChinaWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 4000.0 ;400.0
    InitialHealth   = 4000.0 ;400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 150
      RecenterTime = 5000
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL IronNokanaLocomotor ;BattleMasterLocomotor
  Locomotor = SET_SLUGGISH CWCruS300DeployedLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

;  Behavior = HordeUpdate ModuleTag_04
;    RubOffRadius = 150    ; if I am this close to a real hordesman, I will get to be an honorary hordesman
;    UpdateRate = 1000     ; how often to recheck horde status (msec)
;    Radius = 75           ; how close other units must be to us to count towards our horde-ness (~30 feet or so)
;    KindOf = VEHICLE      ; what KindOf's must match to count towards horde-ness
;    AlliesOnly = Yes      ; do we only count allies towards horde status? 
;    ExactMatch = Yes      ; do we only count units of our exact same type towards horde status? (overrides kindof)
;    Count = 5             ; how many units must be within Radius to grant us horde-ness
;    Action = HORDE        ; when horde-ing, grant us the HORDE bonus
;  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Behavior = RiderChangeContain ModuleTag_Z01
    Rider1 = RidersDummy_M          RIDER1  WEAPON_RIDER1 STATUS_RIDER1 KoreaVehicleKMSAMUnpackCommandSet  SET_NORMAL
    Rider2 = RidersDummy_A           RIDER2  WEAPON_RIDER2 STATUS_RIDER2 KoreaVehicleKMSAMPackUpCommandSet  SET_SLUGGISH
    ScuttleDelay          = 1500
    ScuttleStatus         = RUBBLE

    Slots                 = 1
    InitialPayload        = RidersDummy_M 1
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 0
    DamagePercentToUnits  = 100%
    BurnedDeathToUnits    = No
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 1
    GoAggressiveOnExit = Yes
    DoorOpenTime = 0
  End
  
  Behavior    = OCLSpecialPower ModuleTag_Z02
    SpecialPowerTemplate = SpecialAbilityRiderA2M
    OCL                  = OCL_RiderA2M
  End

  Behavior    = OCLSpecialPower ModuleTag_Z03
    SpecialPowerTemplate = SpecialAbilityRiderM2A
    OCL                  = OCL_RiderM2A
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;주피터킹
;------------------------------------------------------------------------------
Object RebelArmyVehicleJupiterKing

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  UpgradeCameo1 = Upgrade_Nationalism
  UpgradeCameo2 = Upgrade_ChinaUraniumShells
  UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ProjectileBoneFeedbackEnabledSlots = PRIMARY
 
    DefaultConditionState
      Model = MVJupiter_SKN
      IdleAnimation = MVJupiter_SKL.MVJupiter_IDA
      Turret = Turret
      TurretPitch = TURRETEL
      ShowSubObject = Turret01
      HideSubObject = MissleRack01 MissleRack02 TurretUP01
      WeaponFireFXBone = PRIMARY FireFXA
      WeaponLaunchBone = PRIMARY Missile
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponD
      TransitionKey = TRANS_DEFAULT
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    
    ConditionState  = PREATTACK_A
      Animation     = MVJupiter_SKL.MVJupiter_ATA_E ;뚜껑을 연다
      AnimationMode = ONCE
      TransitionKey = TRANS_PREATTACK_A
    End
    AliasConditionState = REALLYDAMAGED PREATTACK_A
    AliasConditionState = RUBBLE PREATTACK_A
    
    ConditionState = FIRING_A
      Animation = MVJupiter_SKL.MVJupiter_ATA_F ;미사일을 쏘는중
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_A
      ParticleSysBone = EXHAUST01 JupiterJetLenzflare01
      ParticleSysBone = EXHAUST01 JupiterSmolderingSmoke
      ParticleSysBone = EXHAUST02 JupiterJetLenzflare02
    End
    AliasConditionState  = BETWEEN_FIRING_SHOTS_A
    
    AliasConditionState = REALLYDAMAGED FIRING_A
    AliasConditionState = RUBBLE FIRING_A
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RUBBLE BETWEEN_FIRING_SHOTS_A
    
    TransitionState = TRANS_FIRING_A TRANS_DEFAULT
      Animation     = MVJupiter_SKL.MVJupiter_ATA_G ;뚜껑을 닫는다
      AnimationMode = ONCE
    End


    ConditionState  = PREATTACK_B
      Animation     = MVJupiter_SKL.MVJupiter_ATB_E
      AnimationMode = ONCE
      TransitionKey = TRANS_PREATTACK_B
    End
    AliasConditionState = REALLYDAMAGED PREATTACK_B
    AliasConditionState = RUBBLE PREATTACK_B

    ConditionState = FIRING_B
      Animation = MVJupiter_SKL.MVJupiter_ATB_F
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_B
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = REALLYDAMAGED FIRING_B
    AliasConditionState = RUBBLE FIRING_B
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RUBBLE BETWEEN_FIRING_SHOTS_B

    TransitionState = TRANS_FIRING_B TRANS_DEFAULT
      Animation     = MVJupiter_SKL.MVJupiter_ATB_G
      AnimationMode = ONCE
    End
    

    ConditionState  = PREATTACK_C
      Animation     = MVJupiter_SKL.MVJupiter_ATC_E
      AnimationMode = ONCE
      TransitionKey = TRANS_PREATTACK_C
    End
    AliasConditionState = REALLYDAMAGED PREATTACK_C
    AliasConditionState = RUBBLE PREATTACK_C

    ConditionState = FIRING_C
      Animation = MVJupiter_SKL.MVJupiter_ATC_F
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_C
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_C
    AliasConditionState = REALLYDAMAGED FIRING_C
    AliasConditionState = RUBBLE FIRING_C
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
    AliasConditionState = RUBBLE BETWEEN_FIRING_SHOTS_C

    TransitionState = TRANS_FIRING_C TRANS_DEFAULT
      Animation     = MVJupiter_SKL.MVJupiter_ATC_G
      AnimationMode = ONCE
    End

  End


  Draw = W3DModelDraw ModuleTag_Z02 ;//RIGHT HAND
    OkToChangeModelColor = Yes

    ProjectileBoneFeedbackEnabledSlots = PRIMARY
 
    DefaultConditionState
      Model = MVJupiter_A_SKN
      IdleAnimation = MVJupiter_A_SKL.MVJupiter_A_IDA
      Turret = Turret
      TransitionKey = TRANS_DEFAULT_RIGHTHAND
      HideSubObject = HOUSECOLOR07 P3MISSILE
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    
    ConditionState = PREATTACK_A
      Animation = MVJupiter_A_SKL.MVJupiter_A_ATE
      AnimationMode = ONCE
      TransitionKey = TRANS_PREATTACK_A_RIGHTHAND
      HideSubObject = HOUSECOLOR07 P3MISSILE
    End
    AliasConditionState = REALLYDAMAGED PREATTACK_A
    AliasConditionState = RUBBLE PREATTACK_A
    
    ConditionState = FIRING_A
      Animation = MVJupiter_A_SKL.MVJupiter_A_ATF
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_A_RIGHTHAND
      HideSubObject = HOUSECOLOR07 P3MISSILE
    End
    AliasConditionState  = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = REALLYDAMAGED FIRING_A
    AliasConditionState = RUBBLE FIRING_A
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RUBBLE BETWEEN_FIRING_SHOTS_A
    
    TransitionState = TRANS_FIRING_A_RIGHTHAND TRANS_DEFAULT_RIGHTHAND
      Animation = MVJupiter_A_SKL.MVJupiter_A_ATG
      AnimationMode = ONCE
      HideSubObject = HOUSECOLOR07 P3MISSILE
    End


    ConditionState = PREATTACK_B
      Animation = MVJupiter_A_SKL.MVJupiter_A_BTE
      AnimationMode = ONCE
      TransitionKey = TRANS_PREATTACK_B_RIGHTHAND
      WaitForStateToFinishIfPossible = TRANS_DEFAULT_RIGHTHAND
      HideSubObject = HOUSECOLOR07 P3MISSILE
    End
    AliasConditionState = REALLYDAMAGED PREATTACK_B
    AliasConditionState = RUBBLE PREATTACK_B

    ConditionState = FIRING_B
      Animation = MVJupiter_A_SKL.MVJupiter_A_BTF
      AnimationMode = ONCE ;LOOP
      TransitionKey = TRANS_FIRING_B_RIGHTHAND
      HideSubObject = HOUSECOLOR07 P3MISSILE
    End
    AliasConditionState  = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = REALLYDAMAGED FIRING_B
    AliasConditionState = RUBBLE FIRING_B
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RUBBLE BETWEEN_FIRING_SHOTS_B

    TransitionState = TRANS_FIRING_B_RIGHTHAND TRANS_DEFAULT_RIGHTHAND
      Animation = MVJupiter_A_SKL.MVJupiter_A_BTG
      AnimationMode = ONCE
      HideSubObject = HOUSECOLOR07 P3MISSILE
    End


    ConditionState = PREATTACK_C
      Animation = MVJupiter_A_SKL.MVJupiter_A_CTE
      AnimationMode = ONCE
      TransitionKey = TRANS_PREATTACK_C_RIGHTHAND
      WaitForStateToFinishIfPossible = TRANS_DEFAULT_RIGHTHAND
      ShowSubObject = HOUSECOLOR07 P3MISSILE
    End
    AliasConditionState = REALLYDAMAGED PREATTACK_C
    AliasConditionState = RUBBLE PREATTACK_C

    ConditionState = FIRING_C
      Animation = MVJupiter_A_SKL.MVJupiter_A_CTF
      AnimationMode = ONCE
      TransitionKey = TRANS_FIRING_C_RIGHTHAND
      ShowSubObject = HOUSECOLOR07 P3MISSILE
    End
    AliasConditionState  = BETWEEN_FIRING_SHOTS_C
    AliasConditionState = REALLYDAMAGED FIRING_C
    AliasConditionState = RUBBLE FIRING_C
    AliasConditionState = REALLYDAMAGED BETWEEN_FIRING_SHOTS_C
    AliasConditionState = RUBBLE BETWEEN_FIRING_SHOTS_C

    TransitionState = TRANS_FIRING_C_RIGHTHAND TRANS_DEFAULT_RIGHTHAND
      Animation = MVJupiter_A_SKL.MVJupiter_A_CTG
      AnimationMode = ONCE
      ShowSubObject = HOUSECOLOR07 P3MISSILE
    End
    
  End


  Draw = W3DTankDraw ModuleTag_Z03 ;//CHASSIS
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = MVJupiter_TNK
      IdleAnimation = MVJupiter_TNK.MVJupiter_TNK
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
    
    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate      = 2.0
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:JupiterKing
  Side = China
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 1
;  WeaponSet
;    Conditions = None 
;    Weapon = PRIMARY JupiterMissileWeapon
;  End
  WeaponSet
    Conditions = None
    
    Weapon = PRIMARY JupiterMissileWeapon
    
    Weapon = SECONDARY JupiterLaser
    AutoChooseSources = SECONDARY NONE
    
    Weapon = TERTIARY JupiterSpawnFireball
    AutoChooseSources = TERTIARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = RebelArmyHeavyWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = JupiterKingCommandSet ;ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 4000.0 ;400.0
    InitialHealth   = 4000.0 ;400.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

;  Behavior = AIUpdateInterface ModuleTag_03
;    Turret
;      TurretTurnRate = 120   ; turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
;    AutoAcquireEnemiesWhenIdle = Yes
;  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 70
      TurretPitchRate = 120
      AllowsPitch = Yes
      MinPhysicalPitch = -15
      FirePitch = -45

      TurretFireAngleSweep = SECONDARY 60
      TurretSweepSpeedModifier = SECONDARY 2.0
      ControlledWeaponSlots = SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL BattleMasterLocomotor
  Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;타니오 개틀링
Object TaniOhGattlingCannon

  ; *** ART Parameters ***
  SelectPortrait         = SNGatTower_L
  ButtonImage            = SNGatTower

  Draw                    = W3DDependencyModelDraw ModuleTag_01
    OkToChangeModelColor  = Yes
    AttachToBoneInContainer = FIREPOINT01

    DefaultConditionState
      Model               = MVTaniOh_G
      Animation           = MVTaniOh_G.MVTaniOh_G
      AnimationMode       = MANUAL
      Turret              = TURRET01
      TurretPitch         = TURRETEL01
      WeaponFireFXBone    = PRIMARY TUR1MUZZLE
      WeaponMuzzleFlash   = PRIMARY TUR1MUZZLEFX
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState        = CONTINUOUS_FIRE_SLOW
      Model               = MVTaniOh_G
      Animation           = MVTaniOh_G.MVTaniOh_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
    End
    AliasConditionState = CONTINUOUS_FIRE_SLOW REALLYDAMAGED
    
    ConditionState       = CONTINUOUS_FIRE_MEAN
      Model               = MVTaniOh_G
      Animation           = MVTaniOh_G.MVTaniOh_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
    End
    AliasConditionState = CONTINUOUS_FIRE_MEAN REALLYDAMAGED

    ConditionState        = CONTINUOUS_FIRE_FAST
      Model               = MVTaniOh_G
      Animation           = MVTaniOh_G.MVTaniOh_G
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
      ParticleSysBone    = TUR1MUZZLE GattlingMuzzleSmoke
    End
    AliasConditionState = CONTINUOUS_FIRE_FAST REALLYDAMAGED

  End

  ; ***DESIGN parameters ***
  Side             = RebelArmy
  EditorSorting    = SYSTEM
  TransportSlotCount = 1
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   P4TaniOhGattling
  End
  
  ArmorSet
    Conditions     = None
    Armor          = InvulnerableAllArmor
  End
  VisionRange     = 200

  ; *** AUDIO Parameters ***
  UnitSpecificSounds
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
    VoiceRapidFire  = NoSound
  End

  ; *** ENGINEERING Parameters ***
  KindOf            = PRELOAD PORTABLE_STRUCTURE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CLICK_THROUGH IGNORED_IN_GUI
    Body            = StructureBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
      NaturalTurretAngle = 180
    End
    AutoAcquireEnemiesWhenIdle = Yes 
  End

  Behavior             = DestroyDie ModuleTag_04
    ;nothing
  End

  Behavior = StealthDetectorUpdate ModuleTag_06
    DetectionRate   = 500
    CanDetectWhileContained   = Yes
  End

  Geometry            = BOX
  GeometryMajorRadius = 8.0
  GeometryMinorRadius = 8.0
  GeometryHeight      = 9.0
  GeometryIsSmall     = No      
  Shadow              = SHADOW_VOLUME
  ShadowSizeX = 45

End


;타니오
;------------------------------------------------------------------------------
Object RebelArmyVehicleTaniOh

  ; *** ART Parameters ***
  SelectPortrait         = SNBattlemaster_L
  ButtonImage            = SNBattlemaster
  
  UpgradeCameo1 = Upgrade_Nationalism
  UpgradeCameo2 = Upgrade_ChinaUraniumShells
  UpgradeCameo3 = Upgrade_ChinaNuclearTanks
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DOverlordTankDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = MVTaniOh
      Animation = MVTaniOh.MVTaniOh
      AnimationMode = MANUAL
      Turret = TURRET03
      TurretPitch = TURRETEL03
      AltTurret = TURRET01
      AltTurretPitch = TURRETEL01

      WeaponMuzzleFlash   = PRIMARY   TUR3MUZZLEFX
      WeaponFireFXBone    = PRIMARY   TUR3MUZZLE
      WeaponRecoilBone    = PRIMARY   TUR3BARREL
      WeaponLaunchBone    = PRIMARY   TUR3MUZZLE
      
      WeaponMuzzleFlash   = SECONDARY TUR1MUZZLEFX
      WeaponFireFXBone    = SECONDARY TUR1MUZZLE
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState        = MOVING
      ParticleSysBone     = DUST01 RocketBuggyDust
      ParticleSysBone     = DUST02 RocketBuggyDust
    End

    ConditionState        = CONTINUOUS_FIRE_SLOW
      Model               = MVTaniOh
      Animation           = MVTaniOh.MVTaniOh
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
    End
    AliasConditionState = CONTINUOUS_FIRE_SLOW REALLYDAMAGED
    
    ConditionState       = CONTINUOUS_FIRE_MEAN
      Model               = MVTaniOh
      Animation           = MVTaniOh.MVTaniOh
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
    End
    AliasConditionState = CONTINUOUS_FIRE_MEAN REALLYDAMAGED

    ConditionState        = CONTINUOUS_FIRE_FAST
      Model               = MVTaniOh
      Animation           = MVTaniOh.MVTaniOh
      AnimationMode       = LOOP
      AnimationSpeedFactorRange = 2.0 2.0
      ParticleSysBone    = TUR1MUZZLE GattlingMuzzleSmoke
    End
    AliasConditionState = CONTINUOUS_FIRE_FAST REALLYDAMAGED

    TrackMarks = EXTnkTrack.tga
    TreadAnimationRate = 2.0
    TreadDriveSpeedFraction = 0.3
    TreadPivotSpeedFraction = 0.6

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TaniOh
  Side = RebelArmy
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 1
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY   TaniOhHyperBlasterWeapon ;P4TaniOhHyperBlaster
    Weapon              = SECONDARY P4TaniOhGattling
  End
  ArmorSet
    Conditions      = None
    Armor           = TankArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 800
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = RebelArmyHeavyWarFactory
  End

  ExperienceValue = 100 100 200 400    ;Experience point value at each level
  ExperienceRequired = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet       = ChinaVehicleBattleMasterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleMasterTankVoiceSelect
  VoiceMove = BattleMasterTankVoiceMove
  VoiceGuard = BattleMasterTankVoiceMove
  VoiceAttack = BattleMasterTankVoiceAttack
  SoundMoveStart = BattleMasterTankMoveStart
  SoundMoveStartDamaged = BattleMasterTankMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = BattleMasterTankVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    VoiceCrush = BattleMasterTankVoiceCrush
    VoiceEnter = BattleMasterTankVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 4000.0
    InitialHealth   = 4000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 800
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

;  Behavior = AIUpdateInterface ModuleTag_03
;    Turret
;      TurretTurnRate = 120   ; turn rate, in degrees per sec
;      ControlledWeaponSlots = PRIMARY
;    End
;    AutoAcquireEnemiesWhenIdle = Yes
;  End

  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      ControlledWeaponSlots = PRIMARY
      TurretTurnRate      = 180
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
     End
    AltTurret
      ControlledWeaponSlots = SECONDARY
      TurretTurnRate      = 180 
      TurretPitchRate     = 180
      AllowsPitch         = Yes
      FiresWhileTurning   = Yes
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Locomotor = SET_NORMAL OverlordLocomotor ;BattleMasterLocomotor
  ;Locomotor = SET_NORMAL_UPGRADED NuclearBattleMasterLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_06
    DeathWeapon   = NuclearTankDeathWeapon
    StartsActive  = No                        ; turned on by upgrade
    TriggeredBy   = Upgrade_ChinaNuclearTanks
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_ChinaNuclearTanks
  End

  Behavior = VeterancyGainCreate ModuleVet_01
    StartingLevel = ELITE
    ScienceRequired = SCIENCE_BattlemasterTraining
  End

  ; A crushing defeat
  Behavior = DestroyDie ModuleTag_08
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = FXListDie ModuleTag_09
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End


  Behavior = SlowDeathBehavior ModuleTag_12
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 200
    DestructionDelayVariance = 100
    OCL = FINAL    OCL_ChinaTankBattleMasterDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = TransitionDamageFX ModuleTag_13
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ObjectCreationUpgrade ModuleTag_Z01
    UpgradeObject = OCL_TaniOhGattlingCannon
    TriggeredBy   = Upgrade_ChinaOverlordGattlingCannon
  End

  Behavior = GrantUpgradeCreate ModuleTag_Z02
    UpgradeToGrant = Upgrade_ChinaOverlordGattlingCannon
    ExemptStatus = UNDER_CONSTRUCTION
  End

  Behavior = OverlordContain ModuleTag_Z03
    Slots                 = 1
    DamagePercentToUnits        = 100%
    AllowInsideKindOf     = PORTABLE_STRUCTURE
    PassengersAllowedToFire = Yes
    PassengersInTurret = No
    ExperienceSinkForRider = Yes
  End

  Geometry = BOX
  GeometryMajorRadius = 13.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 10     
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;Luftwafe(만타 레이. Manta Ray)
;------------------------------------------------------------------------------
Object RebelArmyVehicleLuftwafe

  ; *** ART Parameters ***
  SelectPortrait         = SACCommanche_L
  ButtonImage            = SACCommanche
  
  UpgradeCameo1 = Upgrade_ComancheRocketPods
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_AmericaCountermeasures
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw                   = W3DModelDraw ModuleTag_01
    ExtraPublicBone = WeaponA01
    DefaultConditionState
      Model               = MVMantaRay_SKN
      Turret = Turret01
      TurretPitch = TurretEL01
      AltTurret = AltTurret01
      AltTurretPitch = AltTurretEL01

      WeaponFireFXBone = PRIMARY WeaponA
      WeaponRecoilBone = PRIMARY Barrel
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponLaunchBone = PRIMARY WeaponA

      WeaponFireFXBone = SECONDARY WeaponB
      WeaponRecoilBone = SECONDARY AltBarrel
      WeaponMuzzleFlash = SECONDARY AltMuzzleFX
      WeaponLaunchBone = SECONDARY WeaponB

      WeaponFireFXBone = TERTIARY WeaponC
      WeaponLaunchBone = TERTIARY WeaponC

      ParticleSysBone     = WingTip01 JetContrail ;03-06 no use.
      ParticleSysBone     = WingTip02 JetContrail

      ParticleSysBone     = Engine01 P4MantaRayJetLenzflare
      ParticleSysBone     = Engine02 P4MantaRayJetLenzflare

      TransitionKey = TRANS_Default
    End
    AliasConditionState = RIDER1

    ConditionState RIDER2
      Model = MVMantaRay_BST ;B = Rider2, 'ST' = Stand

      WeaponFireFXBone = PRIMARY RWeaponA;'R' = Rider
      WeaponRecoilBone = PRIMARY RBarrel
      WeaponMuzzleFlash = PRIMARY RMuzzleFX
      WeaponLaunchBone = PRIMARY RWeaponA

      WeaponFireFXBone = SECONDARY Engine
      WeaponLaunchBone = SECONDARY Engine

      WeaponFireFXBone = TERTIARY RWeaponA;'R' = Rider
      WeaponRecoilBone = TERTIARY RBarrel
      WeaponMuzzleFlash = TERTIARY RMuzzleFX
      WeaponLaunchBone = TERTIARY RWeaponA

      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail

      ParticleSysBone     = Engine01 P4MantaRayJetAfterBurner02
      ParticleSysBone     = Engine02 P4MantaRayJetAfterBurner02
      
      TransitionKey = TRANS_Rider2
    End


;Transitions
    TransitionState = TRANS_Default TRANS_Rider2
      Model = MVMantaRay_SKN
      Animation     = MVMantaRay_SKL.MVMantaRay_A2B
      AnimationMode = ONCE
    End
    
    TransitionState = TRANS_Rider2 TRANS_Default
      Model = MVMantaRay_SKN
      Animation     = MVMantaRay_SKL.MVMantaRay_A2B
      AnimationMode = ONCE_BACKWARDS
    End


;JetExhaust
    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
    End
    AliasConditionState = RIDER1 JETEXHAUST

    ConditionState        = RIDER2 JETEXHAUST
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
    End

;JetExhaust JetAfterBurnner
    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
      ; afterburner
;      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End
    AliasConditionState = RIDER1 JETEXHAUST JETAFTERBURNER

    ConditionState        = RIDER2 JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
      ; afterburner
;      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

;ReallyDamaged
    ConditionState        = REALLYDAMAGED
      Model               = MVMantaRay_SKN
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    AliasConditionState = RIDER1 REALLYDAMAGED

    ConditionState        = RIDER2 REALLYDAMAGED
      Model               = MVMantaRay_BST
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

;ReallyDamaged JetExhaust
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = MVMantaRay_SKN
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
    End
    AliasConditionState = RIDER1 REALLYDAMAGED JETEXHAUST

    ConditionState        = RIDER2 REALLYDAMAGED JETEXHAUST
      Model               = MVMantaRay_BST
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
    End

;ReallyDamaged JetExhaust JetAfterBurner
    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = MVMantaRay_SKN
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
;      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
    End
    AliasConditionState = RIDER1 REALLYDAMAGED JETEXHAUST JETAFTERBURNER

    ConditionState        = RIDER2 REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = MVMantaRay_BST
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
;      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
    End

;Rubble
    ConditionState        = RUBBLE
      Model               = MVMantaRay_SKN
      HideSubObject       = None 
      ShowSubObject       = None
    End
    AliasConditionState = RIDER1 RUBBLE

    ConditionState        = RIDER2 RUBBLE
      Model               = MVMantaRay_SKN
      HideSubObject       = None 
      ShowSubObject       = None
    End

;Rubble JetExhaust JetAfterBurner
    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = MVMantaRay_SKN
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
      ParticleSysBone     = WingTip03 JetContrail
      ParticleSysBone     = WingTip04 JetContrail
      ParticleSysBone     = WingTip05 JetContrail
      ParticleSysBone     = WingTip06 JetContrail
    End
    AliasConditionState = RIDER1 RUBBLE JETEXHAUST JETAFTERBURNER

    ConditionState        = RIDER2 RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = MVMantaRay_SKN
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = WingTip01 JetContrail
      ParticleSysBone     = WingTip02 JetContrail
      ParticleSysBone     = WingTip03 JetContrail
      ParticleSysBone     = WingTip04 JetContrail
      ParticleSysBone     = WingTip05 JetContrail
      ParticleSysBone     = WingTip06 JetContrail
    End

    OkToChangeModelColor = Yes
  End

;//Fan//

  Draw                   = W3DModelDraw ModuleTag_N01
    ConditionState  = NONE
      Model               = MVMantaRay_Fan
      Animation           = MVMantaRay_Fan.MVMantaRay_Fan
      AnimationMode       = LOOP
    End
    AliasConditionState = REALLYDAMAGED
    AliasConditionState = RUBBLE
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Luftwafe
  EditorSorting       = VEHICLE
  Side                = RebelArmy
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  MaxSimultaneousOfType = 1

  VisionRange         = 200.0 
  ShroudClearingRange = 600
  Prerequisites
    Object            = RebelArmyAirfield
  End

;  WeaponSet
;    Conditions = None 
;    Weapon = PRIMARY P4RShobuBombWeapon
;  End
;  WeaponSet
;    Conditions = WEAPON_RIDER1
;    Weapon = PRIMARY RShobuMissileWeapon
;  End
;  WeaponSet
;    Conditions = WEAPON_RIDER2
;    Weapon = PRIMARY P4RShobuBombWeapon
;  End

  WeaponSet
    Conditions            = None 
    Weapon                = PRIMARY P4MantaRayPlasmaCannon
    Weapon                = SECONDARY P4MantaRayPlasmaCannon
  End
  WeaponSet
    Conditions            = WEAPON_RIDER1
    Weapon                = PRIMARY P4MantaRayPlasmaCannon
    Weapon                = SECONDARY P4MantaRayPlasmaCannon
  End
  WeaponSet
    Conditions            = WEAPON_RIDER2
    Weapon                = PRIMARY P4MantaRayGuidedMG ;CWCruGSh_30mm_Cannon2
  End

;  WeaponSet
;    Conditions            = WEAPON_RIDER2
;    Weapon                = PRIMARY 
;    Weapon                = SECONDARY P4MantaRayAfterBurnerLauncher
;    Weapon                = TERTIARY P4MantaRayGuidedMG
;    AutoChooseSources     = PRIMARY NONE
;    AutoChooseSources     = SECONDARY NONE
;    AutoChooseSources     = TERTIARY NONE
;  End

  ;WeaponSet
  ;  Conditions = None 
  ;  Weapon = PRIMARY RShobuMissileWeapon
  ;  ;Weapon = SECONDARY MasknellGunAir
  ;End
  ArmorSet
    Conditions      = None
    Armor           = ComancheArmor
    DamageFX        = None
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresComancheArmor
    DamageFX              = None
  End
  BuildCost           = 900 ;1500
  BuildTime           = 1.0 ;20              ; in seconds  
  ExperienceValue     = 50 50 100 200   ; Experience point value at each level
  ExperienceRequired  = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = SouthKoreaVehicleAH1CommandSet ;AmericaVehicleComancheCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = ComancheVoiceSelect
  VoiceMove             = ComancheVoiceMove
  VoiceGuard            = ComancheVoiceMove
  VoiceAttack           = ComancheVoiceAttack
  SoundAmbient          = NoSound ;ComancheAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = ComancheVoiceCreate
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    Afterburner         = RaptorAfterburner
    VoiceGarrison       = ComancheVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceFireRocketPods = ComancheVoiceAttackRocket
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Behavior = WeaponSetUpgrade ModuleTag_02
    TriggeredBy = Upgrade_ComancheRocketPods
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 4000.0 ;220.0
    InitialHealth   = 4000.0 ;220.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End

;  Behavior = AIUpdateInterface ModuleTag_06
;    Turret
;      TurretTurnRate = 0
;      TurretPitchRate = 0
;      ControlledWeaponSlots = PRIMARY SECONDARY
;    End
;
;  End
  Behavior = AIUpdateInterface ModuleTag_06
    Turret
      TurretTurnRate        = 150
      TurretPitchRate       = 180
      AllowsPitch           = Yes
      RecenterTime          = 5000
      ControlledWeaponSlots = PRIMARY
    End
    AltTurret
      TurretTurnRate        = 150
      TurretPitchRate       = 180
      AllowsPitch           = Yes
      RecenterTime          = 5000
      ControlledWeaponSlots = SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  ;Locomotor = SET_NORMAL  RShobuLocomotor
  ;Locomotor = SET_SLUGGISH  RShobuBomberLocomotor
  ;Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor
  Locomotor = SET_NORMAL P4MantaRayLocomotor
  Locomotor = SET_SLUGGISH P4MantaRayBoosterLocomotor ;RaptorJetLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior                          = JetSlowDeathBehavior ModuleTag_08
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaCountermeasures
  End

  Behavior                = CountermeasuresBehavior ModuleTag_10
    TriggeredBy           = Upgrade_AmericaCountermeasures
    FlareTemplateName     = CountermeasureFlare
    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
    VolleySize            = 2     ; Number of flares launched per volley (requires bones)
    VolleyArcAngle        = 60.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
    DelayBetweenVolleys   = 1000  ; Time between flare volleys
    NumberOfVolleys       = 3     ; Number of times the volleys will fire before reloading
    ReloadTime            = 4000  ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
    EvasionRate           = 30%   ; With active flares, the specified percentage will be diverted.
    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

;  Behavior = TransportContain ModuleTag_22
;    Slots = 8 ;4
;    DamagePercentToUnits = 100%
;    AllowInsideKindOf = INFANTRY
;    GoAggressiveOnExit = Yes
;    ScatterNearbyOnExit = No ; I have bones for exiting
;    NumberOfExitPaths = 2
;    PassengersAllowedToFire = No
;    DestroyRidersWhoAreNotFreeToExit = Yes
;  End

  Behavior = RiderChangeContain ModuleTag_Z01
    Rider1 = RidersDummy_M          RIDER1  WEAPON_RIDER1 STATUS_RIDER1 KoreaVehicleKMSAMUnpackCommandSet  SET_NORMAL
    Rider2 = RidersDummy_A           RIDER2  WEAPON_RIDER2 STATUS_RIDER2 KoreaVehicleKMSAMPackUpCommandSet  SET_SLUGGISH
    ScuttleDelay          = 1500
    ScuttleStatus         = RUBBLE

    Slots                 = 1
    InitialPayload        = RidersDummy_M 1
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 0
    DamagePercentToUnits  = 100%
    BurnedDeathToUnits    = No
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 1
    GoAggressiveOnExit = Yes
    DoorOpenTime = 0
  End
  
  Behavior    = OCLSpecialPower ModuleTag_Z02
    SpecialPowerTemplate = SpecialAbilityRiderA2M
    OCL                  = OCL_RiderA2M
  End

  Behavior    = OCLSpecialPower ModuleTag_Z03
    SpecialPowerTemplate = SpecialAbilityRiderM2A
    OCL                  = OCL_RiderM2A
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight = 25.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End



